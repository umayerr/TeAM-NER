{"version":3,"file":"js/app.7c1588fe.js","mappings":"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","sources":["webpack://ner-annotator/./src/App.vue","webpack://ner-annotator/./src/components/menubar/MenuBar.vue","webpack://ner-annotator/./src/components/menubar/ExportAnnotations.vue","webpack://ner-annotator/./src/components/menubar/utils.js","webpack://ner-annotator/./src/components/menubar/ExportAnnotations.vue?b6c4","webpack://ner-annotator/./src/components/AboutDialog.vue","webpack://ner-annotator/./src/components/AboutDialog.vue?926b","webpack://ner-annotator/./src/components/ExitDialog.vue","webpack://ner-annotator/./src/components/ExitDialog.vue?3d28","webpack://ner-annotator/./src/components/menubar/MenuBar.vue?44bd","webpack://ner-annotator/./src/components/StartPage.vue","webpack://ner-annotator/./src/components/StartPage.vue?118f","webpack://ner-annotator/./src/components/AnnotationPage.vue","webpack://ner-annotator/./src/components/Token.vue","webpack://ner-annotator/./src/components/Token.vue?1a2c","webpack://ner-annotator/./src/components/TokenBlock.vue","webpack://ner-annotator/./src/components/TokenBlock.vue?6c2a","webpack://ner-annotator/./src/components/ClassesBlock.vue","webpack://ner-annotator/./src/components/ClassesBlock.vue?7e1a","webpack://ner-annotator/./src/components/token-manager.js","webpack://ner-annotator/./src/components/AnnotationPage.vue?9627","webpack://ner-annotator/./src/components/ReviewPage.vue","webpack://ner-annotator/./src/components/ReviewPage.vue?506d","webpack://ner-annotator/./src/components/AnnotationSidebar.vue","webpack://ner-annotator/./src/components/sidebar/ProgressBar.vue","webpack://ner-annotator/./src/components/sidebar/ProgressBar.vue?d876","webpack://ner-annotator/./src/components/sidebar/SplitTypeSelector.vue","webpack://ner-annotator/./src/components/sidebar/SplitTypeSelector.vue?000f","webpack://ner-annotator/./src/components/sidebar/AnnotationPrecisionSelector.vue","webpack://ner-annotator/./src/components/sidebar/AnnotationPrecisionSelector.vue?0f67","webpack://ner-annotator/./src/components/sidebar/KeyboardShortcuts.vue","webpack://ner-annotator/./src/components/sidebar/KeyboardShortcuts.vue?10b3","webpack://ner-annotator/./src/components/AnnotationSidebar.vue?91fc","webpack://ner-annotator/./src/components/DragNDropOverlay.vue","webpack://ner-annotator/./src/components/DragNDropOverlay.vue?2f60","webpack://ner-annotator/./src/App.vue?36ed","webpack://ner-annotator/./src/store/index.js","webpack://ner-annotator/./src/quasar-user-options.js","webpack://ner-annotator/./src/main.js","webpack://ner-annotator/webpack/bootstrap","webpack://ner-annotator/webpack/runtime/chunk loaded","webpack://ner-annotator/webpack/runtime/compat get default export","webpack://ner-annotator/webpack/runtime/define property getters","webpack://ner-annotator/webpack/runtime/global","webpack://ner-annotator/webpack/runtime/hasOwnProperty shorthand","webpack://ner-annotator/webpack/runtime/publicPath","webpack://ner-annotator/webpack/runtime/jsonp chunk loading","webpack://ner-annotator/webpack/startup"],"sourcesContent":["<template>\n  <div\n    class=\"fullscreen\"\n    @dragover.prevent=\"onDragEnter\"\n    @dragenter=\"onDragEnter\"\n    @dragleave.self=\"onDragLeave\"\n    @drop.stop.prevent=\"onDrop\"\n    style=\"overflow-y:scroll;\"\n  >\n    <div :style=\"{'pointer-events': overlayActive ? 'none' : 'auto'}\">\n      <q-layout view=\"hHh lpR fFf\">\n        <menu-bar v-if=\"currentPage !== 'start'\" />\n\n        <q-drawer :model-value=\"currentPage !== 'start'\" bordered :class=\"$q.dark.isActive ? 'bg-dark' : 'bg-grey-2'\">\n          <annotation-sidebar />\n        </q-drawer>\n\n        <q-page-container>\n          <start-page\n            v-if=\"currentPage === 'start'\"\n            @text-file-loaded=\"switchToPage('annotate')\"\n            @json-file-loaded=\"switchToPage('review')\"\n          />\n          <annotation-page v-if=\"currentPage === 'annotate'\" />\n          <review-page v-if=\"currentPage === 'review'\" />\n        </q-page-container>\n      </q-layout>\n      <drag-n-drop-overlay :style=\"{'visibility': overlayActive && pendingFileDrop == null ? 'visible' : 'hidden'}\"/>\n      <exit-dialog :show=\"pendingFileDrop != null && currentPage != 'start'\" @hide=\"pendingFileDrop = null\" @confirm=\"processFileDrop()\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MenuBar from \"./components/menubar/MenuBar.vue\";\nimport StartPage from \"./components/StartPage.vue\";\nimport AnnotationPage from \"./components/AnnotationPage.vue\";\nimport ReviewPage from \"./components/ReviewPage.vue\";\nimport AnnotationSidebar from \"./components/AnnotationSidebar.vue\";\nimport DragNDropOverlay from \"./components/DragNDropOverlay.vue\";\nimport ExitDialog from \"./components/ExitDialog.vue\";\nimport { mapState, mapMutations } from \"vuex\";\nimport { useQuasar } from \"quasar\";\n\nexport default {\n  name: \"LayoutDefault\",\n  setup() {\n    const $q = useQuasar();\n    return {\n      notify(icon, message, level) {\n        $q.notify({\n          icon,\n          message,\n          color: level,\n          position: \"top\",\n          timeout: 2000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n            },\n          ],\n        });\n      },\n    };\n  },\n  data() {\n    return {\n      overlayActive: false,\n      pendingFileDrop: null,\n    };\n  },\n  components: {\n    MenuBar,\n    StartPage,\n    AnnotationPage,\n    ReviewPage,\n    AnnotationSidebar,\n    DragNDropOverlay,\n    ExitDialog\n  },\n  computed: {\n    ...mapState([\"annotations\", \"classes\", \"currentPage\"]),\n  },\n  methods: {\n    ...mapMutations([\"loadClasses\", \"loadAnnotations\", \"setInputSentences\", \"clearAllAnnotations\", \"resetIndex\", \"setCurrentPage\"]),\n    switchToPage(page) {\n      console.log(\"Changing current page to\", page)\n      this.setCurrentPage(page);\n      console.log(\"Current page is now\", this.currentPage)\n    },\n    onDragEnter() {\n      console.log(\"Here\");\n      this.overlayActive = true;\n    },\n    onDragLeave() {\n      this.overlayActive = false;\n    },\n    onDrop(event) {\n      console.log(event);\n      this.overlayActive = false;\n      this.pendingFileDrop = event.dataTransfer.files[0]\n      if (this.currentPage == \"start\")  this.processFileDrop();\n    },\n    processFileDrop() {\n      let fileType = this.pendingFileDrop.name.split('.').pop();\n      let reader = new FileReader();\n      reader.onload = (event) => {\n        let file = event.target.result;\n        this.setInputSentences(file);\n        this.clearAllAnnotations();\n        this.resetIndex();\n        if (fileType === \"txt\") {\n          this.switchToPage('annotate');\n        }\n        else if (fileType === \"json\") {\n          this.switchToPage('review');\n        }\n        else {\n          alert('Please upload either a .txt or a .json file.');\n        }\n      };\n      reader.readAsText(this.pendingFileDrop);\n      this.pendingFileDrop = null;\n    },\n  },\n};\n</script>\n","<template>\n  <q-header bordered>\n    <div class=\"q-pa-sm q-pl-md row items-center\">\n      <div>\n        <q-avatar size=\"xs\">\n          <img src=\"@/assets/icon_32.png\" />\n        </q-avatar>\n        <span class=\"q-ml-sm\">\n          <strong>\n            NER Annotator\n          </strong>\n        </span>\n      </div>\n      <div>\n        <span class=\"q-ml-sm\">\n          <strong v-if=\"$store.state.currentPage === 'annotate'\" style=\"color: rgb(207, 255, 207)\">\n            | Annotation Mode |\n          </strong>\n          <strong v-else-if=\"$store.state.currentPage === 'review'\" style=\"color: rgb(255, 255, 128)\">\n            | Review Mode |\n          </strong>\n          <strong v-else style=\"color: rgb(207, 255, 207)\">\n            | ISSUE WITH MENU BAR AND CURENT PAGE  |\n          </strong>\n        </span>\n      </div>\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\n        <span>\n          File\n        </span>\n        <q-menu style=\"border-radius: 0.5rem;\">\n          <q-list dense style=\"min-width: 100px\">\n            <q-item clickable v-close-popup @click=\"pendingClick = $refs.file\">\n              <q-item-section>Open File</q-item-section>\n              <input\n                @change=\"openFile\"\n                type=\"file\"\n                ref=\"file\"\n                accept=\".txt\"\n                style=\"display: none\"\n              />\n            </q-item>\n          </q-list>\n        </q-menu>\n      </div>\n\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\n        <span>\n          Annotations\n        </span>\n        <q-menu style=\"border-radius: 0.5rem;\">\n          <q-list dense style=\"min-width: 100px\">\n            <export-annotations />\n            <q-item clickable v-close-popup @click=\"pendingClick = $refs.file\">\n              <q-item-section>Import</q-item-section>\n              <input\n                @change=\"importAnnotations\"\n                type=\"file\"\n                ref=\"file\"\n                accept=\".json\"\n                style=\"display: none\"\n              />\n            </q-item>\n          </q-list>\n        </q-menu>\n      </div>\n\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\n        <span>\n          Tags\n        </span>\n        <q-menu style=\"border-radius: 0.5rem;\">\n          <q-list dense style=\"min-width: 100px\">\n            <q-item clickable v-close-popup @click=\"exportTags()\">\n              <q-item-section>Export</q-item-section>\n            </q-item>\n            <q-item clickable v-close-popup @click=\"$refs.file.click()\">\n              <q-item-section>Import</q-item-section>\n              <input\n                @change=\"importTags\"\n                type=\"file\"\n                ref=\"file\"\n                accept=\".json\"\n                style=\"display: none\"\n              />\n            </q-item>\n          </q-list>\n        </q-menu>\n      </div>\n\n      <q-space />\n\n      <q-icon\n        style=\"margin-top: 5px\"\n        color=\"white\"\n        :name=\"$q.dark.isActive ? 'fas fa-sun' : 'fas fa-moon'\"\n        class=\"cursor-pointer\"\n        @click=\"toggleDarkMode\"\n      />\n\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\n        <span>Help</span>\n\n        <q-menu style=\"border-radius: 0.5rem;\">\n          <q-list dense style=\"min-width: 100px\">\n            <q-item\n              clickable\n              v-close-popup\n              href=\"https://github.com/tecoholic/ner-annotator/discussions\"\n              target=\"_blank\"\n            >\n              <q-item-section>\n                Forum\n              </q-item-section>\n            </q-item>\n            <q-item\n              clickable\n              v-close-popup\n              href=\"https://github.com/tecoholic/ner-annotator/issues\"\n              target=\"_blank\"\n            >\n              Report Issue\n            </q-item>\n            <q-separator />\n            <q-item clickable v-close-popup @click=\"showAbout = true\">\n              <q-item-section>About</q-item-section>\n            </q-item>\n          </q-list>\n        </q-menu>\n\n        <about-dialog :show=\"showAbout\" @hide=\"showAbout = false\" />\n      </div>\n    </div>\n  </q-header>\n\n  <q-dialog v-model=\"promptForProject\" persistent>\n    <q-card style=\"min-width: 350px\">\n      <q-card-section>\n        <div class=\"text-h6\">Project Name</div>\n      </q-card-section>\n\n      <q-card-section class=\"q-pt-none\">\n        <q-input\n          dense\n          v-model=\"newProjectName\"\n          autofocus\n          @keyup.enter=\"promptForProject = false\"\n        />\n      </q-card-section>\n\n      <q-card-actions align=\"right\" class=\"text-primary\">\n        <q-btn flat label=\"Cancel\" v-close-popup />\n        <q-btn flat label=\"Create Project\" v-close-popup />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n\n  <exit-dialog :show=\"pendingClick != null\" @hide=\"pendingClick = null\" @confirm=\"pendingClick.click()\"/>\n</template>\n\n<script>\nimport ExportAnnotations from \"./ExportAnnotations.vue\";\nimport { mapState, mapMutations } from \"vuex\";\nimport { exportFile } from \"./utils\";\nimport { useQuasar } from \"quasar\";\nimport AboutDialog from \"../AboutDialog.vue\";\nimport ExitDialog from \"../ExitDialog.vue\";\n\nexport default {\n  components: { ExportAnnotations, AboutDialog, ExitDialog },\n  name: \"MenuBar\",\n  setup() {\n    const $q = useQuasar();\n    return {\n      notify(icon, message, level) {\n        $q.notify({\n          icon,\n          message,\n          color: level,\n          position: \"top\",\n          timeout: 2000,\n          actions: [\n            {\n              label: \"Dismiss\",\n              color: \"white\",\n            },\n          ],\n        });\n      },\n    };\n  },\n  data: function() {\n    return {\n      promptForProject: false,\n      newProjectName: \"\",\n      showAbout: false,\n      pendingClick: null,\n    };\n  },\n  computed: {\n    ...mapState([\"annotations\", \"classes\"]),\n  },\n  methods: {\n    ...mapMutations([\"loadClasses\", \"loadAnnotations\", \"setInputSentences\", \"clearAllAnnotations\", \"resetIndex\"]),\n    // Funtion that exports the tags to a JSON file\n    exportTags: async function() {\n      await exportFile(JSON.stringify(this.classes), \"tags.json\");\n    },\n    importTags: function(e) {\n      let file = e.target.files[0];\n      let filereader = new FileReader();\n      filereader.onload = (ev) => {\n        try {\n          this.loadClasses(JSON.parse(ev.target.result));\n          this.notify(\n            \"fa fa-check\",\n            `${this.classes.length} Tags imported successfully`,\n            \"positive\"\n          );\n        } catch (e) {\n          this.notify(\"fas fa-exclamation-circle\", \"Invalid file\", \"red-6\");\n        }\n      };\n      filereader.readAsText(file);\n    },\n    openFile: function(e) {\n      let file = e.target.files[0];\n      let filereader = new FileReader();\n      filereader.onload = (ev) => {\n        this.setInputSentences(ev.target.result);\n        this.clearAllAnnotations();\n      };\n      filereader.readAsText(file);\n      this.resetIndex();\n    },\n    importAnnotations: function(e) {\n      let file = e.target.files[0];\n      let filereader = new FileReader();\n      filereader.onload = (ev) => {\n        try {\n          this.loadAnnotations(JSON.parse(ev.target.result));\n          this.notify(\n            \"fa fa-check\",\n            `Annotations imported successfully`,\n            \"positive\"\n          );\n        } catch (e) {\n          this.notify(\"fas fa-exclamation-circle\", \"Invalid file\", \"red-6\");\n        }\n      };\n      filereader.readAsText(file);\n    },\n    toggleDarkMode: function() {\n      this.$q.dark.toggle();\n    },\n  },\n};\n</script>\n","\n<template>\n  <q-item clickable v-close-popup @click=\"promptForNameAndExport()\">\n    <q-item-section>Export</q-item-section>\n  </q-item>\n</template>\n<script>\nimport { mapState } from 'vuex'\nimport { exportFile } from './utils'\n\nexport default {\n  name: 'ExportAnnotations',\n  computed: {\n    ...mapState(['annotations', 'classes']),\n  },\n  methods: {\n    promptForNameAndExport() {\n      const annotator = prompt('Please enter your name for the annotations export:');\n      if (annotator) {\n        this.generateJSONExport(annotator);\n      } else {\n        console.log('Export cancelled or name not provided.');\n      }\n    },\n\n    async generateJSONExport(annotator) {\n      const output = {\n        classes: this.classes.map((c, index) => ({\n          id: index + 1,\n          name: c.name,\n          color: c.color\n        })),\n        annotations: this.annotations.map(annotation => [\n          annotation.text,  // Text directly in the array\n          {\n            entities: annotation.entities.map(entity => {\n              let history = entity[9] || [];  // Ensure history is initialized\n\n              const state = entity[5] === 2 ? \"Rejected\" :\n                            entity[5] === 1 ? \"Accepted\" : \"Suggested\";\n\n              const newHistoryEntry = [\n                state,\n                this.formatDate(new Date()),\n                annotator,\n                entity[3], // The class or label from the entity\n              ];\n\n              history.push(newHistoryEntry);\n\n              return [\n                entity[1], // start position\n                entity[2], // end position\n                history.map(h => [h[0], h[1], h[2], h[3]]) // history array\n              ];\n            })\n          }\n        ])\n      };\n\n      const jsonStr = JSON.stringify(output, null, 2); // Pretty print JSON\n      try {\n        await exportFile(jsonStr, `${annotator}-annotations.json`);\n        console.log(\"Export successful\");\n      } catch (error) {\n        console.error(\"Export failed:\", error);\n      }\n    },\n\t\n\tformatDate(date) {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are zero-indexed\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      const seconds = String(date.getSeconds()).padStart(2, '0');\n\n      return `${year}-${month}-${day}~${hours}:${minutes}:${seconds}`;\n    },\n  },\n}\n</script>\n","import { save } from \"@tauri-apps/api/dialog\";\nimport { invoke } from \"@tauri-apps/api/tauri\";\nimport { documentDir } from \"@tauri-apps/api/path\";\n\nexport const exportFile = async (content, filename) => {\n  if (typeof window.rpc === \"undefined\") {\n    let element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(content)\n    );\n    element.setAttribute(\"download\", filename);\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  } else {\n    save({\n      defaultPath: await documentDir(),\n      filters: [\n        { extensions: [\"json\"], name: \"JSON Files (*.json)\" },\n        { name: \"All files (*.*)\", extensions: [\"*\"] },\n      ],\n    })\n      .then((path) => {\n        if (!path) return;\n        if (!path.match(/.*\\.json$/)) path += \".json\";\n\n        invoke(\"save_file\", { filepath: path, contents: content })\n          .then((msg) => alert(msg))\n          .catch((e) => alert(e));\n      })\n      .catch((e) => console.log(\"Save cancelled.\", e));\n  }\n};\n","import { render } from \"./ExportAnnotations.vue?vue&type=template&id=08ec889c\"\nimport script from \"./ExportAnnotations.vue?vue&type=script&lang=js\"\nexport * from \"./ExportAnnotations.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';import ClosePopup from 'quasar/src/directives/ClosePopup.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QItem,QItemSection});qInstall(script, 'directives', {ClosePopup});\n","<template>\n  <q-dialog :model-value=\"show\" @hide=\"$emit('hide')\">\n    <q-card style=\"min-width: 400px; padding: 10px; border-radius: 10px\">\n      <q-card-section>\n        <div class=\"text-h6\">NER Annotator</div>\n      </q-card-section>\n\n      <q-card-section class=\"q-pt-none\">\n        <p><strong>Version: </strong>{{ version }}</p>\n        <p>\n          <strong>Source: </strong>\n          <a href=\"https://github.com/tecoholic/ner-annotator\">\n            Github Repository\n          </a>\n        </p>\n        <p>\n          <strong>Author:</strong>\n          @tecoholic (<a href=\"https://github.com/tecoholic\">Github</a>,\n          <a href=\"https://github.com/tecoholic\">Twitter</a>)\n        </p>\n      </q-card-section>\n\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"OK\" color=\"primary\" v-close-popup />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"AboutDialog\",\n  emits: [\"hide\"],\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data: function() {\n    return {\n      // eslint-disable-next-line no-undef\n      version: APPLICATION_VERSION,\n    };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./AboutDialog.vue?vue&type=template&id=1053e09a\"\nimport script from \"./AboutDialog.vue?vue&type=script&lang=js\"\nexport * from \"./AboutDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';import ClosePopup from 'quasar/src/directives/ClosePopup.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QDialog,QCard,QCardSection,QCardActions,QBtn});qInstall(script, 'directives', {ClosePopup});\n","<template>\n  <q-dialog :model-value=\"show\" @hide=\"$emit('hide')\">\n    <q-card style=\"max-width: 400px; padding: 10px; border-radius: 10px\">\n      <q-card-section>\n        <div class=\"text-h5\">Are you sure you want to close this file?</div>\n      </q-card-section>\n\n      <q-card-section class=\"text-body1\">\n        <p>All changes made to this file will be lost.</p>\n        If you haven't exported the annotations, please do so before closing the file.\n      </q-card-section>\n\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancel\" color=\"red\" v-close-popup @click=\"$emit('hide')\"/>\n        <q-btn flat label=\"OK\" color=\"light-blue\" v-close-popup @click=\"$emit('confirm')\"/>\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"ExitDialog\",\n  emits: [\"hide\", \"confirm\"],\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n","import { render } from \"./ExitDialog.vue?vue&type=template&id=11058feb\"\nimport script from \"./ExitDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ExitDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';import ClosePopup from 'quasar/src/directives/ClosePopup.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QDialog,QCard,QCardSection,QCardActions,QBtn});qInstall(script, 'directives', {ClosePopup});\n","import { render } from \"./MenuBar.vue?vue&type=template&id=348014e8\"\nimport script from \"./MenuBar.vue?vue&type=script&lang=js\"\nexport * from \"./MenuBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QHeader from 'quasar/src/components/header/QHeader.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QMenu from 'quasar/src/components/menu/QMenu.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QSeparator from 'quasar/src/components/separator/QSeparator.js';\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';import ClosePopup from 'quasar/src/directives/ClosePopup.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QHeader,QAvatar,QMenu,QList,QItem,QItemSection,QSpace,QIcon,QSeparator,QDialog,QCard,QCardSection,QInput,QCardActions,QBtn});qInstall(script, 'directives', {ClosePopup});\n","<template>\n  <q-icon\n    :name=\"$q.dark.isActive ? 'fas fa-sun' : 'fas fa-moon'\"\n    :class=\"[\n      $q.dark.isActive ? 'text-white' : 'text-black',\n      'cursor-pointer fixed-top-right q-mx-xl q-my-lg text-h5',\n    ]\"\n    @click=\"toggleDarkMode\"\n  />\n  <div class=\"q-mx-auto q-my-xl\" style=\"max-width: 600px\">\n    <h5 class=\"text-h4 q-mb-sm\">NER Text Annotator</h5>\n    <p :class=\"['text-subtitle1', $q.dark.isActive ? 'text-grey-4' : 'text-grey-7']\">\n      Annotate text for spaCy NER Model training\n    </p>\n    <div class=\"q-my-xl q-py-md\" style=\"margin-top: 7rem\">\n      <q-file\n        v-model=\"textFile\"\n        accept=\".txt,.json\"\n        @rejected=\"fileSelectionError\"\n        filled\n        @update:model-value=\"onFileSelected\"\n        label=\"Open a text or json file to begin\"\n        :bg-color=\"$q.dark.isActive ? 'black-1' : 'light-blue-1'\"\n      >\n        <template v-slot:prepend>\n          <q-icon name=\"fas fa-upload\" />\n        </template>\n      </q-file>\n      <p :class=\"['text-subtitle1 q-my-md', $q.dark.isActive ? 'text-grey-4' : 'text-grey-7']\">\n        Hint: You can also drag and drop files into this window!\n      </p>\n    </div>\n  </div>\n  <q-separator />\n  <div :class=\"[$q.dark.isActive ? 'bg-dark' : 'bg-grey-1', 'q-pa-lg']\">\n    <div class=\"q-mx-auto\" style=\"max-width: 600px\">\n      <h4 class=\"text-h4\">\n        How do I use the NER Annotator?\n      </h4>\n      <q-timeline>\n        <q-timeline-entry\n          subtitle=\"Step 1\"\n          title=\"Load your text file with contents to annotate\"\n          icon=\"fa fa-upload\"\n          color=\"yellow-8\"\n        >\n          <q-img\n            src=\"@/assets/step-1.png\"\n            spinner-color=\"white\"\n            class=\"rounded-borders\"\n            style=\"border: 1px solid #ccc; width: 80%\"\n          />\n          <p class=\"text-subtitle1 q-my-md\">Tips to prepare the text file</p>\n          <ul>\n            <li>Break your content in paragraphs or passages</li>\n            <li>\n              Maintain a consistent seperator between the passages. <br />\n              Eg., newline, empty line or a text seperator like <code>---</code>\n            </li>\n            <li>\n              For large datasets, break the text into smaller files and tag them\n              seperately\n            </li>\n          </ul>\n        </q-timeline-entry>\n        <q-timeline-entry\n          subtitle=\"Step 2\"\n          title=\"Create some tags and start tagging your text\"\n          icon=\"fa fa-tag\"\n          color=\"orange-6\"\n        >\n          <q-img\n            src=\"@/assets/step-2.png\"\n            spinner-color=\"white\"\n            class=\"rounded-borders\"\n            style=\"border: 1px solid #ccc\"\n          />\n          <ul class=\"q-my-md\">\n            <li>Use the <strong>New Tag</strong> button to create new tags</li>\n            <li>\n              Use the <strong>Edit Tag</strong> button to remove unwanted tags\n            </li>\n            <li>\n              Click the <strong>Save</strong> button once you are done\n              annotating an entry and to move to the next one\n            </li>\n            <li>\n              Adjust the <strong>Text Seperator</strong> break your content\n              correctly into entries\n            </li>\n            <li>\n              Use the <strong>Tags</strong> menu to Export/Import tags to share\n              with your team\n            </li>\n          </ul>\n        </q-timeline-entry>\n        <q-timeline-entry\n          subtitle=\"Step 3\"\n          title=\"Download your annotations as a JSON file that can be used for training\"\n          icon=\"fa fa-download\"\n          color=\"red-6\"\n        >\n          <q-img\n            src=\"@/assets/step-3.png\"\n            spinner-color=\"white\"\n            class=\"rounded-borders\"\n            style=\"border: 1px solid #ccc; width: 70%\"\n          />\n        </q-timeline-entry>\n\n        <q-timeline-entry\n          subtitle=\"Finally\"\n          title=\"Convert to DocBin format and use it for training\"\n          icon=\"fa fa-file\"\n          color=\"red-10\"\n        >\n          <p>\n            See the spaCy documentation\n            <a\n              :class=\"$q.dark.isActive ? 'text-light-blue-4' : 'text-dark-blue'\"\n              href=\"https://spacy.io/api/data-formats#json-input\"\n            >\n              here\n            </a>\n            on how to convert the annotations from JSON to DocBin format.\n          </p>\n        </q-timeline-entry>\n      </q-timeline>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: \"StartPage\",\n  emits: [\"text-file-loaded\", \"json-file-loaded\"],\n  data() {\n    return {\n      textFile: null,\n    };\n  },\n  methods: {\n    ...mapMutations([\"setInputSentences\"]),\n    onFileSelected(file) {\n      // onFileSelected() is called if the user clicks and manually\n      //    selects a file. If they drag and drop, that is handled in\n      //    App.vue. If you modify this function, you may also want to\n      //    modify App#onDrop(), App#processFileDrop(), and\n      //    LoadTextFile#onFileSelected() to match\n      let fileType = file.name.split('.').pop();\n      try {\n        let reader = new FileReader();\n        reader.readAsText(file);\n        reader.addEventListener(\"load\", (event) => {\n          this.setInputSentences(event.target.result);\n          if (fileType === \"txt\") {\n            this.$emit(\"text-file-loaded\");\n          }\n          else if (fileType === \"json\") {\n            console.log(\"Emitting json-file-loaded\");\n            this.$emit(\"json-file-loaded\");\n          }\n          else {\n            alert('Please upload either a .txt or a .json file.');\n          }\n        });\n      } catch (e) {\n        console.log(\"Catch reached\")\n        this.fileSelectionError();\n      }\n    },\n    fileSelectionError() {\n      this.$q.notify({\n        icon: \"fas fa-exclamation-circle\",\n        message: \"Invalid file\",\n        color: \"red-6\",\n        position: \"top\",\n        timeout: 2000,\n        actions: [{label: \"Dismiss\", color: \"white\"}],\n      });\n    },\n    toggleDarkMode() {\n      this.$q.dark.toggle();\n    },\n  },\n};\n</script>\n","import { render } from \"./StartPage.vue?vue&type=template&id=00285b8c\"\nimport script from \"./StartPage.vue?vue&type=script&lang=js\"\nexport * from \"./StartPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QFile from 'quasar/src/components/file/QFile.js';\nimport QSeparator from 'quasar/src/components/separator/QSeparator.js';\nimport QTimeline from 'quasar/src/components/timeline/QTimeline.js';\nimport QTimelineEntry from 'quasar/src/components/timeline/QTimelineEntry.js';\nimport QImg from 'quasar/src/components/img/QImg.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QIcon,QFile,QSeparator,QTimeline,QTimelineEntry,QImg});\n","<template>\n    <div>\n      <classes-block />\n      <div class=\"q-pa-lg\" style=\"height:60vh; overflow-y:scroll;\">\n        <component\n          :is=\"t.type === 'token' ? 'Token' : 'TokenBlock'\"\n          v-for=\"t in tm.tokens\"\n          :key=\"t.start\"\n          :token=\"t\"\n          :backgroundColor=\"t.backgroundColor\"\n          :humanOpinion=\"t.humanOpinion\"        \n          @remove-block=\"onRemoveBlock\"\n          @replace-block-label=\"onReplaceBlockLabel\"\n        />\n      </div>\n      <div class=\"q-pa-md\" style=\"border-top: 1px solid #ccc\">\n        <q-btn\n          class=\"q-mx-sm\"\n          color=\"primary\"\n          outline\n          title=\"Undo\"\n          @click=\"undo\"\n          label=\"Undo\"\n        />\n      </div>\n      <div class=\"q-pa-md\" style=\"border-top: 1px solid #ccc\">\n        <q-btn\n          color=\"red\"\n          outline\n          class=\"q-mx-sm\"\n          title=\"Delete all annotations for all sentences/paragraphs\"\n          @click=\"resetBlocks\"\n          label=\"Reset\"\n        />\n        <q-btn\n          class=\"q-mx-sm\"\n          :color=\"$q.dark.isActive ? 'grey-3' : 'grey-9'\"\n          outline\n          title=\"Go back one sentence/paragraph\"\n          @click=\"backOneSentence\"\n          :disabled=\"currentIndex == 0\"\n          label=\"Back\"\n        />\n        <q-btn\n          class=\"q-mx-sm\"\n          :color=\"$q.dark.isActive ? 'grey-3' : 'grey-9'\"\n          outline\n          title=\"Go forward one sentence/paragraph\"\n          @click=\"skipCurrentSentence\"\n          label=\"Skip\"\n        />\n        <q-btn\n          class=\"q-mx-sm\"\n          color=\"green-7\"\n          outline\n          title=\"Go forward one sentence/paragraph\"\n          @click=\"saveTags\"\n          label=\"Save\"\n        />\n      </div>\n    </div>\n  </template>\n  <script>\n  import { mapState, mapMutations } from \"vuex\";\n  import Token from \"./Token\";\n  import TokenBlock from \"./TokenBlock\";\n  import ClassesBlock from \"./ClassesBlock.vue\";\n  import TokenManager from \"./token-manager\";\n  import TreebankTokenizer from \"treebank-tokenizer\";\n  \n  export default {\n    name: \"AnnotationPage\",\n    data: function() {\n      return {\n        tm: new TokenManager([]),\n        currentSentence: {},\n        redone: \"\",\n        tokenizer: new TreebankTokenizer(),\n        addedTokensStack: [],\n      };\n    },\n    components: {\n      Token,\n      TokenBlock,\n      ClassesBlock,\n    },\n    computed: {\n      ...mapState([\n        \"annotations\",\n        \"annotationHistory\",\n        \"classes\",\n        \"currentClass\",\n        \"currentIndex\",\n        \"inputSentences\",\n        \"enableKeyboardShortcuts\",\n        \"annotationPrecision\",\n      ]),\n    },\n    watch: {\n      inputSentences() {\n        this.resetIndex();\n        this.tokenizeCurrentSentence();\n      },\n      annotations() {\n        if (this.currentAnnotation != this.annotations[this.currentIndex]) {\n          this.tokenizeCurrentSentence();\n        }\n      },\n      classes() {\n        this.tokenizeCurrentSentence();\n      },\n      annotationPrecision() {\n        this.tokenizeCurrentSentence();\n      }\n    },\n    created() {\n      if (this.inputSentences.length) {\n        this.tokenizeCurrentSentence();\n      }\n      document.addEventListener(\"mouseup\", this.selectTokens);\n      document.addEventListener('keydown', this.keypress);\n    },\n    beforeUnmount() {\n      document.removeEventListener(\"mouseup\", this.selectTokens);\n      document.removeEventListener(\"keydown\", this.keypress);\n    },\n    methods: {\n      ...mapMutations([\"nextSentence\", \"previousSentence\", \"resetIndex\"]),\n      keypress(event) {\n        if (!this.enableKeyboardShortcuts) {\n          return\n        }\n        if (event.keyCode == 32) { // Space\n          this.saveTags();\n        } else if (event.keyCode == 39) { // right arrow\n          this.skipCurrentSentence();\n        } else if (event.keyCode == 37) { // left arrow\n          this.backOneSentence();\n        } else if (event.keyCode == 82 || event.keyCode == 27) { // r / R or ESC\n          this.resetBlocks();\n        }\n        // stop event from bubbling up\n        event.stopPropagation()\n      },\n      undo() {\n        console.log(\"Undo Stack:\", this.addedTokensStack);\n      },\n      /*\n      // Load history of annotations from input file \n      applyAnnotationHistory() {\n        const annotationHistory = this.annotationHistory;\n        if (annotationHistory && annotationHistory.length > 0) {\n          annotationHistory.forEach((annotation) => {\n            const [labelName, start, end, , name] = annotation;\n            // Set humanOpinion to false ONLY if the name is \"nlp\"\n            const humanOpinion = name !== \"nlp\";\n            // Find the matching class object\n            const _class = this.classes.find(cls => cls.name === labelName);\n            if (_class) {\n              // Pass humanOpinion to the addNewBlock method of TokenManager\n              console.log(\"THE OPINION IS HUMAN? \", humanOpinion)\n              this.tm.addNewBlock(start, end, _class, humanOpinion);\n            } else {\n              console.warn(`Label \"${labelName}\" not found in classes.`);\n            }\n          });\n        }\n      },\n      */\n     // Inside AnnotationPage.vue\n     applyAnnotationHistory() {\n      const annotationHistory = this.annotationHistory;\n      if (annotationHistory && annotationHistory.length > 0) {\n          annotationHistory.forEach((annotation) => {\n              const [labelName, start, end, , name,, ogNLP] = annotation;\n              const humanOpinion = name !== \"nlp\";\n              const _class = this.classes.find(cls => cls.name === labelName);\n              if (_class) {\n                  this.tm.addNewBlock(start, end, _class, humanOpinion, ogNLP, true, name, status);\n              } else {\n                  console.warn(`Label \"${labelName}\" not found in classes.`);\n              }\n          });\n  \n          // New logic to adjust humanOpinion based on 'nlp' name\n          this.tm.tokens.forEach(token => {\n            if (token.type === \"token-block\") {\n              // Determine if this block's annotations came from 'nlp'\n              const isNLP = annotationHistory.some(annotation => {\n                const [, start, end, , name] = annotation;\n                return name === \"nlp\" && token.start === start && token.end === end;\n              });\n              token.humanOpinion = !isNLP;\n            }\n          });\n        }\n      },\n  \n      tokenizeCurrentSentence() {\n        this.currentSentence = this.inputSentences[this.currentIndex];\n        this.currentAnnotation = this.annotations[this.currentIndex];\n  \n        let tokens, spans;\n  \n        if (this.$store.state.annotationPrecision == \"char\") {\n          tokens = this.currentSentence.text.split('');\n          spans = [];\n          for (let i = 0; i < this.currentSentence.text.length; i++) {\n            spans.push([i, i + 1]);\n          }\n        } else {\n          tokens = this.tokenizer.tokenize(this.currentSentence.text);\n          spans = this.tokenizer.span_tokenize(this.currentSentence.text);\n        }\n  \n        let combined = tokens.map((t, i) => [spans[i][0], spans[i][1], t]);\n  \n        this.tm = new TokenManager(this.classes);\n        this.tm.setTokensAndAnnotation(combined, this.currentAnnotation);\n  \n        // Call applyAnnotationHistory after setting up tokens and annotations\n        this.applyAnnotationHistory();\n      },\n  \n      selectTokens() {\n        let selection = document.getSelection();\n  \n        if (\n          selection.anchorOffset === selection.focusOffset &&\n          selection.anchorNode === selection.focusNode\n        ) {\n          return;\n        }\n        \n        const rangeStart = selection.getRangeAt(0);\n        const rangeEnd = selection.getRangeAt(selection.rangeCount - 1);\n        let start, end;\n        try {\n          start = parseInt(rangeStart.startContainer.parentElement.id.replace(\"t\", \"\"));\n          let offsetEnd = parseInt(rangeEnd.endContainer.parentElement.id.replace(\"t\", \"\"));\n          end = offsetEnd + rangeEnd.endOffset;\n        } catch {\n          console.log(\"selected text were not tokens\");\n          return;\n        }\n  \n        if (!this.classes.length && selection.anchorNode) {\n          alert(\n            \"There are no Tags available. Kindly add some Tags before tagging.\"\n          );\n          selection.empty();\n          return;\n        }\n        console.log(\"adding manual block \", start, end, this.currentClass);\n        this.tm.addNewBlock(start, end, this.currentClass, true, false);\n        this.addedTokensStack.push(start);\n        selection.empty();\n      },\n      onRemoveBlock(blockStart) {\n        this.tm.removeBlock(blockStart);\n      },\n      // Replaces a token-block's class with the currently selected class\n      onReplaceBlockLabel(blockStart) {\n        // Get the start and end positions of the existing block before deleting it\n        const existingBlock = this.tm.getBlockByStart(blockStart);\n        const start = existingBlock.start;\n        const end = existingBlock.end;\n  \n        // Remove the existing block\n        this.tm.removeBlock(blockStart);\n  \n        // Create a new block with the same start and end, but with the current tag/label/class\n        if (start !== undefined && end !== undefined) {\n          this.addedTokensStack.push(start);\n          this.tm.addNewBlock(start, end, this.currentClass);\n        }\n      },\n      resetBlocks() {\n        this.tm.resetBlocks();\n        this.addedTokensStack = [];\n      },\n      skipCurrentSentence() {\n        this.nextSentence();\n        this.tokenizeCurrentSentence();\n      },\n      backOneSentence() {\n        this.previousSentence();\n        this.tokenizeCurrentSentence();\n      },\n      saveTags() {\n        this.$store.commit(\"addAnnotation\", {\n          text: this.currentSentence.text,\n          entities: this.tm.exportAsAnnotation(),\n        });\n        this.nextSentence();\n        this.tokenizeCurrentSentence();\n      },\n    },\n  };\n  </script>","<!--A token is a word. A token block is an annotation.\n    When annotations are created, they replace the tokens\n    within them in token-manager.js's tokens list. -->\n<template>\n  <span \n  v-if=\"token.type === 'token'\"\n  :id=\"'t' + token.start\"\n  class=\"token\"\n  :style=\"{'padding': this.$store.state.annotationPrecision == 'char' ? '0.25rem 0rem' : '0.25rem'}\"\n  >\n    {{ token.text == \" \" ? \"&nbsp;\" : token.text }}\n  </span>\n</template>\n<script>\nexport default {\n  name: \"Token\",\n  props: {\n    token: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n  .token {\n    font-size: large;\n    display: inline-block;\n    line-height: 3;\n  }\n</style>","import { render } from \"./Token.vue?vue&type=template&id=104095f8\"\nimport script from \"./Token.vue?vue&type=script&lang=js\"\nexport * from \"./Token.vue?vue&type=script&lang=js\"\n\nimport \"./Token.vue?vue&type=style&index=0&id=104095f8&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <mark :class=\"['bg-' + backgroundColor, {'shadow-unreviewed': !userHasToggled, 'bg-red': !token.humanOpinion}]\">\n    <Token\n      v-for=\"t in token.tokens\"\n      :key=\"t.start\"\n      :token=\"t\"\n    />\n    <span class=\"tag\">\n      <!-- Toggle status cycle button -->\n      <i v-if=\"this.currentPage==='review'\" :class=\"symbolClass\" @click=\"toggleSymbol\"></i>\n      {{ token.label }}\n      <!-- Replace label button (double arrows) -->\n      <q-btn\n        icon=\"fa fa-exchange-alt\"\n        round\n        flat\n        size=\"xs\"\n        text-color=\"grey-7\"\n        title=\"Change label to currently selected label\"\n        @click=\"recordActionAndEmit('replace-block-label', token.start)\"\n      />\n      <!-- Delete label button (X) -->\n      <q-btn\n        icon=\"fa fa-times-circle\"\n        round\n        flat\n        size=\"xs\"\n        text-color=\"grey-7\"\n        title=\"Delete annotation\"\n        @click.stop=\"recordActionAndEmit('remove-block', token.start)\" \n      />\n      <q-btn\n        v-if=\"this.currentPage==='review'\"\n        :icon=\"reviewedIconClass\"\n        round\n        flat\n        size=\"xs\"\n        text-color=\"grey-9\"\n        title=\"Dark indicates that you have reviewed this annotation, light means you have not.\"\n        @click.stop=\"toggleReviewed\"\n      />\n    </span>\n  </mark>\n</template>\n\n<script>\nimport Token from \"./Token\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"TokenBlock\",\n  components: {\n    Token,\n  },\n  props: {\n    token: Object,\n    backgroundColor: String,\n    humanOpinion: Boolean,\n    isSymbolActive: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      userHasToggled: false,\n      suggestedState: false,\n      isReviewed: false,\n    };\n  },\n  computed: {\n    ...mapState([\"currentPage\"]),\n    symbolClass() {\n      switch (this.isSymbolActive) {\n        case 0: return \"fas fa-hourglass-start fa-lg\"; // Suggested - Hourglass implies waiting or potential\n        case 1: return \"fas fa-thumbs-up fa-lg\"; //accepted\n        case 2: return \"fas fa-skull-crossbones fa-lg\"; //rejected\n        default: return \"fas fa-question-circle fa-lg\";\n      }\n    },\n    reviewedIconClass() {\n      return this.userHasToggled ? 'fas fa-toggle-on' : 'fas fa-toggle-off';    },\n  },\n  methods: {\n    toggleSymbol() {\n      this.recordAction('symbol-state', this.isSymbolActive);\n      let nextState = (this.isSymbolActive + 1) % 3;\n      this.userHasToggled = true;\n      this.$emit('update-symbol-state', {\n        tokenStart: this.token.start,\n        newSymbolState: nextState\n      });\n    },\n    toggleReviewed() {\n      this.recordAction('review-state', this.isReviewed);\n      this.isReviewed = !this.isReviewed;\n      this.userHasToggled = true;  // Set userHasToggled to true when review state is toggled\n    },\n    recordAction(actionType, previousState) {\n      const action = {\n        type: actionType,\n        tokenStart: this.token.start,\n        previousState: previousState,\n        newState: this[actionType === 'symbol-state' ? 'isSymbolActive' : 'isReviewed'],\n        timestamp: Date.now()\n      };\n      this.$emit('record-undo', action);\n    },\n    recordActionAndEmit(action, payload) {\n      this.recordAction(action, this.token);\n      this.$emit(action, payload);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\nmark {\n  padding: 0.7rem; /* Increased from 0.5rem */\n  position: relative;\n  background-color: burlywood;\n  border: 2px solid $grey-7; /* Thicker border for emphasis */\n  border-radius: 0.5rem; /* Larger border-radius */\n}\n.tag {\n  background-color: whitesmoke;\n  padding: 6px 0 8px 16px; /* Increased padding for larger tag area */\n  border: 2px solid grey; /* Thicker border */\n  border-radius: 0.5rem; /* Larger border-radius */\n  font-size: small; /* Increased font size for better visibility */\n}\n.shadow-unreviewed {\n  box-shadow: 0 0 2px 2px goldenrod; /* Larger and more pronounced shadow */\n}\n.bg-red {\n  box-shadow: 0 0 2px 2px red; /* Larger and more pronounced shadow */\n}\n</style>\n\n","import { render } from \"./TokenBlock.vue?vue&type=template&id=538fbe92\"\nimport script from \"./TokenBlock.vue?vue&type=script&lang=js\"\nexport * from \"./TokenBlock.vue?vue&type=script&lang=js\"\n\nimport \"./TokenBlock.vue?vue&type=style&index=0&id=538fbe92&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QBtn});\n","<!--defines a Vue.js component responsible for managing and displaying\n   the list of classes (or tags)-->\n<template>\n  <div class=\"q-pa-md\" style=\"border-bottom: 1px solid #ccc;\">\n    <div class=\"row\">\n      <div class=\"tags\">\n        <q-chip\n          v-for=\"(cl, index) in classes\"\n          :key=\"cl.id\"\n          outline\n          square\n          style=\"height: 2rem;\"\n          :color=\"cl.color.replace('11', '12')\"\n          clickable\n          @click=\"setCurrentClass(index)\"\n          :removable=\"showDeleteButtons\"\n          @remove=\"handleRemoveClass(cl.id, cl.name)\"\n        >\n          <q-avatar\n            v-if=\"cl.id === currentClass.id\"\n            :color=\"cl.color.replace('11', '12')\"\n            style=\"height: 2rem\"\n            text-color=\"white\"\n            :icon=\"'fa fa-check'\"\n          ></q-avatar>\n          <q-avatar\n            v-if=\"cl.id !== currentClass.id\"\n            :color=\"cl.color.replace('11', '12')\"\n            style=\"height: 2rem\"\n            text-color=\"white\"\n            font-size=\"16px\"\n          >{{ index + 1 }}</q-avatar>\n          <p :class=\"['q-mb-none', $q.dark.isActive ? 'text-grey-3' : 'text-grey-9']\">{{ cl.name }}</p>\n        </q-chip>\n      </div>\n      <q-space></q-space>\n      <div class=\"q-mx-md\">\n        <q-input\n          bottom-slots\n          v-model=\"newClassName\"\n          v-if=\"showNewClassInput || classes.length === 0\"\n          hint=\"Enter a NER Tag and click [+] to add it\"\n          dense\n          autofocus\n        >\n          <template v-slot:append>\n            <q-btn\n              round\n              dense\n              flat\n              color=\"green-4\"\n              icon=\"fa fa-plus\"\n              @click=\"saveNewClass\"\n            />\n            <q-btn\n              round\n              color=\"red-4\"\n              dense\n              flat\n              icon=\"fa fa-times\"\n              @click=\"showNewClassInput = false\"\n            />\n          </template>\n        </q-input>\n      </div>\n      <div class=\"buttons\">\n        <q-btn v-if=\"$store.state.currentPage !== 'review'\"\n          outline\n          @click=\"showNewClassInput = true\"\n          label=\"New Tag\"\n          class=\"q-mr-sm\"\n          :color=\"$q.dark.isActive ? 'grey-3' : 'grey-9'\"\n        />\n        <q-btn v-if=\"$store.state.currentPage !== 'review'\"\n          outline\n          @click=\"showDeleteButtons = !showDeleteButtons\"\n          :label=\"showDeleteButtons ? 'Lock Tags' : 'Edit Tags'\"\n          :color=\"$q.dark.isActive ? 'grey-3' : 'grey-9'\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from \"vuex\";\nexport default {\n  name: \"ClassesBlock\",\n  data() {\n    return {\n      showNewClassInput: false,\n      newClassName: \"\",\n      showDeleteButtons: false,\n    };\n  },\n  computed: {\n    ...mapState([\"classes\", \"currentClass\", \"enableKeyboardShortcuts\"]),\n  },\n  created() {\n    document.addEventListener('keydown', this.keypress);\n  },\n  watch: {\n    newClassName(now, then) {\n      if (now != then) {\n        this.newClassName = now.toUpperCase();\n      }\n    },\n  },\n  methods: {\n    ...mapMutations([\"setCurrentClass\"]),\n    ...mapActions([\"createNewClass\", \"deleteClass\"]),\n    keypress(event) {\n      if (!this.enableKeyboardShortcuts) {\n        return\n      }\n      var key = parseInt(event.key)\n      if (!key) {\n        return\n      }\n      if (key > this.classes.length) {\n        return\n      }\n      \n      this.setCurrentClass(key - 1);\n      return\n    },\n    handleRemoveClass(class_id, className) {\n      let sure = confirm(\n        \"Are you sure you want to remove the tag `\" +\n          className +\n          \"`?\\nNOTE: This will NOT affect previously tagged entities.\"\n      );\n      if (sure) {\n        this.deleteClass(class_id);\n      }\n    },\n    saveNewClass() {\n      if (!this.newClassName) {\n        return;\n      }\n      const self = this;\n      this.createNewClass(this.newClassName).then(() => {\n        self.showNewClassInput = false;\n        self.newClassName = \"\";\n      });\n    },\n    onInputKeyup(e) {\n      if (e.key === \"Enter\") {\n        this.saveNewClass();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n.color-box {\n  width: 1rem;\n  height: 1rem;\n  margin-right: 1rem;\n}\n</style>\n","import { render } from \"./ClassesBlock.vue?vue&type=template&id=52bae72a&scoped=true\"\nimport script from \"./ClassesBlock.vue?vue&type=script&lang=js\"\nexport * from \"./ClassesBlock.vue?vue&type=script&lang=js\"\n\nimport \"./ClassesBlock.vue?vue&type=style&index=0&id=52bae72a&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52bae72a\"]])\n\nexport default __exports__\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QChip,QAvatar,QSpace,QInput,QBtn});\n","class TokenManager {\n  /**\n   *\n   * @param {Array} tokens\n   */\n  constructor(classes) {\n    this.classes = classes\n    this.tokens = []; // Initialize tokens array\n  }\n\n  getTokenByStart(start) {\n      return this.tokens.find(token => token.start === start);\n  }\n\n  setTokensAndAnnotation(tokens, currentAnnotation) {\n    // Initialize tokens with provided annotation data\n    this.tokens = tokens.map((t) => ({\n      type: \"token\",\n      start: t[0],\n      end: t[1],\n      text: t[2],\n      humanOpinion: true,\n      isSymbolActive: 0, // Default humanOpinion to true for all initial tokens\n    }));\n    this.words = tokens.map(t => t[2]);\n\n    if (currentAnnotation != undefined) {\n      // reset prevoius annotation state\n      for (let i = 0; i < currentAnnotation.entities.length; i++) {\n        var start = currentAnnotation.entities[i][1];\n        var end = currentAnnotation.entities[i][2];\n        var entityName = currentAnnotation.entities[i][3];\n        console.log(\"ENTITYNAME: \",entityName, currentAnnotation.entities[i]);\n        var entityClass = this.classes.find(c => c.name.toUpperCase() === entityName.toUpperCase());        \n        console.log(\"SETTOKENENTITYCLSAS: \",entityClass);\n        if (!entityClass) {\n          entityClass = {\"name\": entityName};\n        }\n        this.addNewBlock(start, end, entityClass, true);\n      }\n    }\n  }\n\n  /**\n   * Creates a new token block with the tokens whose starts match the input\n   * parameters\n   *\n   * @param {Number} start 'start' value of the token forming the start of the token block\n   * @param {Number} end 'start' value of the token forming the end of the token block\n   * @param {Number} _class the id of the class to highlight\n   * @param {Boolean} isHumanOpinion Seperate nlp vs human made annotation\n\n   */\n  addNewBlock(_start, _end, _class, humanOpinion, initiallyNLP = false, isLoaded, name=\"name\", status =\"suggested\", annotationHistory, userHasToggled = true,isSymbolActive = 0) {\n    // Directly apply humanOpinion to the block structure\n    let block = {\n      type: \"token-block\",\n      annotationHistory: annotationHistory,\n      start: _start,\n      end: _end,\n      name: name,\n      label: _class.name,\n      humanOpinion: true,\n      initiallyNLP: initiallyNLP,\n      userHasToggled: userHasToggled, // Ensure it's set for the new block\n      isSymbolActive: isSymbolActive, // Ensure it's set for the new block\n      isSuggested: false,\n      isLoaded: isLoaded,\n      status: status,\n      tokens: this.tokens.filter(token => token.start >= _start && token.end <= _end),\n      backgroundColor: _class.color || null,\n    };\n    let selectedTokens = [];\n    let newTokens = [];\n  \n    let selectionStart = _end < _start ? _end : _start;\n    let selectionEnd = _end > _start ? _end : _start;\n  \n    for (let i = 0; i < this.tokens.length; i++) {\n      let currentToken = this.tokens[i];\n      if (currentToken.end < selectionStart) {\n        // token is before the selection\n        newTokens.push(currentToken);\n      } else if (currentToken.end > selectionStart && currentToken.start < selectionEnd) {\n        // token is inside the selection\n        if (currentToken.type == \"token-block\") {\n          if (currentToken.label.toUpperCase() == _class.name.toUpperCase()) {\n            // tokens are from the same class\n            selectedTokens.push(...currentToken.tokens);\n          } else {\n            // tokens are from different class\n            let tokensBeforeSelection = [];\n            let tokensAfterSelection = [];\n            let oldTokens = currentToken.tokens;\n            for (let j = 0; j < oldTokens.length; j++) {\n              let oldToken = oldTokens[j];\n              if (oldToken.end <= selectionStart) {\n                tokensBeforeSelection.push(oldToken);\n              } else if (oldToken.end > selectionStart && oldToken.start < selectionEnd) {\n                selectedTokens.push(oldToken);\n              } else if (oldToken.start >= selectionEnd) {\n                tokensAfterSelection.push(oldToken);\n              }\n            }\n  \n            // Append new blocks with necessary attributes for before and after the selection\n            appendNewBlock(tokensBeforeSelection, currentToken, newTokens);\n            appendNewBlock(selectedTokens, _class, newTokens, true); // Append selected tokens with updated attributes\n            appendNewBlock(tokensAfterSelection, currentToken, newTokens);\n  \n            selectedTokens = []; // Reset selectedTokens for potential next use\n          }\n        } else if (currentToken.type == \"token\") {\n          selectedTokens.push(currentToken);\n        }\n      } else if (currentToken.start >= selectionEnd && selectedTokens.length) {\n        // token is first after the selection\n        appendNewBlock(selectedTokens, _class, newTokens, true); // Append selected tokens with updated attributes\n        selectedTokens = []; // Ensure selected tokens are cleared after use\n        newTokens.push(currentToken);\n      } else {\n        newTokens.push(currentToken);\n      }\n    }\n  \n    // Append block at the end if there are remaining selected tokens\n    if (selectedTokens.length) {\n      newTokens.push(block);\n      appendNewBlock(selectedTokens, _class, newTokens, true); // Append remaining selected tokens with updated attributes\n    }\n  \n    // Update the tokens array with new tokens\n    this.tokens = newTokens;\n    function appendNewBlock(tokens, _class, tokensArray, updateAttributes = false) {\n      if (tokens.length) {\n        let newBlock = {\n          type: \"token-block\",\n          start: tokens[0].start,\n          end: tokens[tokens.length - 1].end,\n          name: name,\n          tokens: tokens,\n          humanOpinion: true,\n          label: _class.name,\n          classId: _class.id || 0,\n          backgroundColor: _class.color || null,\n          // Set these attributes for all token-blocks, updating existing blocks as needed\n          initiallyNLP: updateAttributes ? initiallyNLP : false,\n          userHasToggled: true,\n          isSymbolActive: isSymbolActive,\n          isLoaded: isLoaded,\n          status: status,\n          annotationHistory: annotationHistory,\n        };\n        tokensArray.push(newBlock);\n      }\n  }\n  \n  }\n  \n\n  /**\n   * Removes a token block and puts back all the tokens in their original position\n   *\n   * @param {Number} blockStart 'start' value of the token block to remove\n   */\n  removeBlock(blockStart) {\n    let newTokens = [];\n    for (let i = 0; i < this.tokens.length; i++) {\n      if (\n        this.tokens[i].type === \"token-block\" &&\n        this.tokens[i].start === blockStart\n      ) {\n        newTokens.push(...this.tokens[i].tokens);\n      } else {\n        newTokens.push(this.tokens[i]);\n      }\n    }\n    this.tokens = newTokens;\n  }\n\n  /**\n   * Removes all the tag blocks and leaves only tokens\n   */\n  resetBlocks() {\n    let newTokens = [];\n    for (let i = 0; i < this.tokens.length; i++) {\n      if (this.tokens[i].type === \"token\") {\n        newTokens.push(this.tokens[i]);\n      } else {\n        newTokens.push(...this.tokens[i].tokens);\n      }\n    }\n    this.tokens = newTokens;\n  }\n\n  updateSymbolState(tokenStart, newSymbolState) {\n    const tokenBlock = this.tokens.find(token => token.type === 'token-block' && token.start === tokenStart);\n    if (tokenBlock) {\n      tokenBlock.isSymbolActive = newSymbolState;\n      tokenBlock.userHasToggled = true; // Update based on user interaction\n    }\n  }\n  /**\n   * Exports the tokens and the token blocks as annotations\n   */\n  exportAsAnnotation() {\n    let entities = [];\n    /*\n    const currentDate = new Date();\n    const dateFormatter = new Intl.DateTimeFormat('en', { year: 'numeric', month: '2-digit', day: '2-digit' });\n    const timeFormatter = new Intl.DateTimeFormat('en', { hour: '2-digit', minute: '2-digit', second: '2-digit' });\n    const date = dateFormatter.format(currentDate);\n    const time = timeFormatter.format(currentDate);\n    */\n    for (let i = 0; i < this.tokens.length; i++) {\n      if (this.tokens[i].type === \"token-block\") {\n        let b = this.tokens[i];\n        console.log(\"export As annotations this is \", b);\n        entities.push([b.name, b.start, b.end, b.label, b.initiallyNLP, b.isSymbolActive, b.userHasToggled, b.isLoaded,b.status,b.annotationHistory]);\n      }\n    }\n    return entities;\n  }\n\n  // Returns a token-block given its starting index, else returns null\n  getBlockByStart(start) {\n    for (let i = 0; i < this.tokens.length; i++) {\n      const token = this.tokens[i];\n      if (token.type === \"token-block\" && token.start === start) {\n        return token;\n      }\n    }\n    console.log(\"Error, Unable to get block by start in token-manager.js\");\n    return null;\n  }  \n}\n\n\n\nexport default TokenManager;\n\n\n\n/// Make toggle between open/close/reject\n/// Update it so previous / loadable \n/// ","import { render } from \"./AnnotationPage.vue?vue&type=template&id=59fe32e6\"\nimport script from \"./AnnotationPage.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QBtn});\n","<template>\n      \n  <div>\n    <classes-block />\n    <div class=\"q-pa-lg\" style=\"height:60vh; overflow-y:scroll;\">\n      <component\n        :is=\"t.type === 'token' ? 'Token' : 'TokenBlock'\"\n        v-for=\"t in tm.tokens\"\n        :key=\"`${t.type}-${t.start}`\"\n        :token=\"t\"\n        :class=\"[t.userHasToggled ? 'user-active' : 'user-inactive']\"\n        :isSymbolActive=\"t.isSymbolActive\"\n        :backgroundColor=\"t.backgroundColor\"\n        :humanOpinion=\"t.humanOpinion\"\n        @update-symbol-state=\"handleSymbolUpdate(t.start, $event.newSymbolState, $event.userHasToggled)\"\n        @remove-block=\"onRemoveBlock\"\n        @replace-block-label=\"onReplaceBlockLabel\"\n      />\n    </div>\n    <div class=\"q-pa-md\" style=\"border-top: 1px solid #ccc\">\n      <q-btn\n        class=\"q-mx-sm\"\n        color=\"primary\"\n        outline\n        title=\"Undo\"\n        @click=\"undo\"\n        label=\"Undo\"\n      />\n    </div>\n    <div class=\"q-pa-md\" style=\"border-top: 1px solid #ccc\">\n      <q-btn\n        color=\"red\"\n        outline\n        class=\"q-mx-sm\"\n        title=\"Delete all annotations for all sentences/paragraphs\"\n        @click=\"resetBlocks\"\n        label=\"Reset\"\n      />\n      <q-btn\n        class=\"q-mx-sm\"\n        :color=\"$q.dark.isActive ? 'grey-3' : 'grey-9'\"\n        outline\n        title=\"Go back one sentence/paragraph\"\n        @click=\"backOneSentence\"\n        :disabled=\"currentIndex == 0\"\n        label=\"Back\"\n      />\n      <q-btn\n        class=\"q-mx-sm\"\n        :color=\"$q.dark.isActive ? 'grey-3' : 'grey-9'\"\n        outline\n        title=\"Go forward one sentence/paragraph\"\n        @click=\"skipCurrentSentence\"\n        label=\"Skip\"\n      />\n      <q-btn\n        class=\"q-mx-sm\"\n        color=\"green-7\"\n        outline\n        title=\"Go forward one sentence/paragraph\"\n        @click=\"saveTags\"\n        label=\"Save\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nimport Token from \"./Token\";\nimport TokenBlock from \"./TokenBlock\";\nimport ClassesBlock from \"./ClassesBlock.vue\";\nimport TokenManager from \"./token-manager\";\nimport TreebankTokenizer from \"treebank-tokenizer\";\n\nexport default {\n  name: \"ReviewPage\",\n  data: function() {\n    return {\n      tm: new TokenManager([]),\n      currentSentence: {},\n      redone: \"\",\n      tokenizer: new TreebankTokenizer(),\n      addedTokensStack: [],\n      undoStack: [],\n    };\n  },\n  components: {\n    Token,\n    TokenBlock,\n    ClassesBlock,\n  },\n  computed: {\n    ...mapState([\n      \"annotations\",\n      \"annotationHistory\",\n      \"classes\",\n      \"currentClass\",\n      \"currentIndex\",\n      \"inputSentences\",\n      \"enableKeyboardShortcuts\",\n      \"annotationPrecision\",\n    ]),\n  },\n  watch: {\n    inputSentences() {\n      this.resetIndex();\n      this.tokenizeCurrentSentence();\n    },\n    annotations() {\n      if (this.currentAnnotation != this.annotations[this.currentIndex]) {\n        this.tokenizeCurrentSentence();\n      }\n    },\n    classes() {\n      this.tokenizeCurrentSentence();\n    },\n    annotationPrecision() {\n      this.tokenizeCurrentSentence();\n    }\n  },\n  created() {\n    if (this.inputSentences.length) {\n      this.tokenizeCurrentSentence();\n    }\n    document.addEventListener(\"mouseup\", this.selectTokens);\n    document.addEventListener('keydown', this.keypress);\n  },\n  beforeUnmount() {\n    document.removeEventListener(\"mouseup\", this.selectTokens);\n    document.removeEventListener(\"keydown\", this.keypress);\n  },\n  methods: {\n    ...mapMutations([\"nextSentence\", \"previousSentence\", \"resetIndex\"]),\n    keypress(event) {\n      if (!this.enableKeyboardShortcuts) {\n        return\n      }\n      if (event.keyCode == 32) { // Space\n        this.saveTags();\n      } else if (event.keyCode == 39) { // right arrow\n        this.skipCurrentSentence();\n      } else if (event.keyCode == 37) { // left arrow\n        this.backOneSentence();\n      } else if (event.keyCode == 82 || event.keyCode == 27) { // r / R or ESC\n        this.resetBlocks();\n      }\n      // stop event from bubbling up\n      event.stopPropagation()\n    },\n    recordAction(action) {\n      console.log(\"Recording action:\", action); // This will log the action being recorded\n      this.undoStack.push(action);\n      // Sort the undo stack by the timestamp to ensure the latest action is on top\n      this.undoStack.sort((a, b) => b.timestamp - a.timestamp);\n    },\n    handleSymbolUpdate(tokenStart, newSymbolState, userHasToggled) {\n      const token = this.tm.getTokenByStart(tokenStart);\n      if (!token) {\n        console.error(\"No token found for start:\", tokenStart);\n        return;\n      }\n\n      const oldSymbolState = token.isSymbolActive;\n      const oldUserHasToggled = token.userHasToggled;\n\n      // Update the token's state and toggled status\n      this.tm.updateSymbolState(tokenStart, newSymbolState);\n      token.userHasToggled = userHasToggled; // Ensure this property exists and is settable\n\n      this.recordAction({\n        type: 'symbolUpdate',\n        details: {\n          tokenStart,\n          oldSymbolState,\n          newSymbolState,\n          oldUserHasToggled,\n          newUserHasToggled: userHasToggled,\n          timestamp: Date.now()\n        }\n      });\n\n      console.log(\"Updated symbol state and user toggled status:\", tokenStart, newSymbolState, userHasToggled);\n    },\n    onAddBlock(start, end, _class, humanOpinion, initiallyNLP = false, isLoaded, name=\"name\", status=\"suggested\", annotationHistory, userHasToggled = false, isSymbolActive = 0) {\n      console.log(\"Adding block:\", start, end, _class);  // Confirm\n      this.recordAction({\n            type: 'addBlock',\n            details: {\n                start,\n                end,\n                _class,\n                humanOpinion,\n                initiallyNLP,\n                isLoaded,\n                name,\n                status,\n                annotationHistory,\n                userHasToggled,\n                isSymbolActive,\n                timestamp: Date.now()\n            }\n        });\n        this.tm.addNewBlock(start, end, _class, humanOpinion, initiallyNLP, isLoaded, name, status, annotationHistory, userHasToggled, isSymbolActive);\n        // Ensure that the action is correctly recorded in the undo stack\n    },\n    revertAddBlock(details) {\n        // Assuming you have a method to remove a block based on some criteria\n        this.tm.removeBlock(details.start, details.end, details._class);\n    },\n    onRemoveBlock(tokenStart) {\n        const block = this.tm.getBlockByStart(tokenStart);\n        if (!block) {\n            console.error('Block not found for start:', tokenStart);\n            return;\n        }\n        const blockDetails = {\n            start: block.start,\n            end: block.end,\n            _class: block.label,  // Assuming 'label' is the class; adjust if the actual property name differs\n            humanOpinion: block.humanOpinion,\n            initiallyNLP: block.initiallyNLP,\n            isLoaded: block.isLoaded,\n            name: block.name,\n            status: block.status,\n            annotationHistory: block.annotationHistory,\n            userHasToggled: block.userHasToggled,\n            isSymbolActive: block.isSymbolActive,\n            // Include any additional fields that are important for the functionality or logging\n        };\n        this.recordAction({\n            type: 'blockRemove',\n            details: {\n                tokenStart: block.start,\n                blockDetails: blockDetails,\n                timestamp: Date.now()\n            }\n        });\n        console.log(\"Removing block with details:\", blockDetails);  // Logging all block details\n        this.tm.removeBlock(tokenStart);\n    },\n\n\n\n\n    undo() {\n        if (this.undoStack.length > 0) {\n            const lastAction = this.undoStack.pop(); // Get the most recent action\n            console.log(\"LAST ACTION BEFORE UNDO \",lastAction)\n            switch (lastAction.type) {\n              case 'symbolUpdate':\n                this.revertSymbolUpdate(lastAction.details);\n                break;\n              case 'blockRemove':\n                this.revertBlockRemove(lastAction.details);\n                break;\n              case 'addBlock':\n                this.revertAddBlock(lastAction.details);\n                break;\n              default:\n                console.log(\"Unhandled action type:\", lastAction.type);\n            }\n        } else {\n            console.log(\"Undo Stack is empty\");\n        }\n    },\n    revertSymbolUpdate(details) {\n      // Revert the symbol state\n      this.tm.updateSymbolState(details.tokenStart, details.oldSymbolState);\n      // Revert the user toggle status\n      const token = this.tm.getTokenByStart(details.tokenStart);\n      if (token) {\n        token.userHasToggled = details.oldUserHasToggled;\n      }\n      console.log(\"Reverted symbol state and user toggled status for token:\", details.tokenStart);\n    },\n    revertBlockAdd(details) {\n      // Assuming a method to remove a block if added inappropriately\n      this.tm.removeBlock(details.tokenStart);\n    },\n    revertBlockRemove(details) {\n        if (details && details.blockDetails) {\n            console.log(\"Reverting with class details:\", details.blockDetails._class);\n            if (!details.blockDetails._class) {\n                console.error('Class details are missing');\n                return;\n            }\n            // Assuming other necessary parameters are also needed\n            this.tm.addNewBlock(\n                details.blockDetails.start,\n                details.blockDetails.end,\n                details.blockDetails._class,\n                details.blockDetails.humanOpinion, // Assuming humanOpinion is a needed parameter\n                details.blockDetails.initiallyNLP, // Assuming initiallyNLP is needed\n                details.blockDetails.isLoaded,     // Assuming isLoaded is needed\n                details.blockDetails.name,         // Assuming name is needed\n                details.blockDetails.status,       // Assuming status is needed\n                details.blockDetails.annotationHistory, // Assuming annotationHistory is needed\n                details.blockDetails.userHasToggled,    // Assuming userHasToggled is needed\n                details.blockDetails.isSymbolActive    // Assuming isSymbolActive is needed\n            );\n        } else {\n            console.error('Missing details for reverting block removal');\n        }\n    },\n\n\n    /*\n    // Load history of annotations from input file \n    applyAnnotationHistory() {\n      const annotationHistory = this.annotationHistory;\n      if (annotationHistory && annotationHistory.length > 0) {\n        annotationHistory.forEach((annotation) => {\n          const [labelName, start, end, , name] = annotation;\n          // Set humanOpinion to false ONLY if the name is \"nlp\"\n          const humanOpinion = name !== \"nlp\";\n          // Find the matching class object\n          const _class = this.classes.find(cls => cls.name === labelName);\n          if (_class) {\n            // Pass humanOpinion to the addNewBlock method of TokenManager\n            console.log(\"THE OPINION IS HUMAN? \", humanOpinion)\n            this.tm.addNewBlock(start, end, _class, humanOpinion);\n          } else {\n            console.warn(`Label \"${labelName}\" not found in classes.`);\n          }\n        });\n      }\n    },\n    */\n   // Inside AnnotationPage.vue\n   applyAnnotationHistory() {\n    const annotationHistory = this.annotationHistory;\n    if (annotationHistory && annotationHistory.length > 0) {\n      annotationHistory.forEach((annotation) => {\n        const [labelName, start, end, , name, status, ogNLP, types] = annotation;\n        const humanOpinion = name !== \"nlp\";\n        const initiallyNLP = ogNLP;\n        const _class = this.classes.find(cls => cls.name === labelName);\n        const isSymbolActive = this.determineSymbolState(status);\n        console.log(\"Added block with symbol \", isSymbolActive);\n\n        if (_class) {\n            // Determine the most recent status for isSymbolActive\n            this.tm.addNewBlock(start, end, _class, humanOpinion, initiallyNLP, true, name, status, types, false, isSymbolActive);\n        } else {\n            console.warn(`Label \"${labelName}\" not found in classes.`);\n        }\n        });\n\n        // Adjust humanOpinion based on 'nlp' name\n        this.tm.tokens.forEach(token => {\n            if (token.type === \"token-block\") {\n                const isNLP = annotationHistory.some(annotation => {\n                    const [, start, end, , name] = annotation;\n                    return name === \"nlp\" && token.start === start && token.end === end;\n                });\n                token.humanOpinion = !isNLP;\n            }\n        });\n    }\n},\n\ndetermineSymbolState(status) {\n  switch (status) {\n    case \"Accepted\": return 1;\n    case \"Rejected\": return 2;\n    case \"Suggested\": return 0;\n    default: return 0; // Default to suggested if unrecognized status\n  }\n},\n\n    tokenizeCurrentSentence() {\n      this.currentSentence = this.inputSentences[this.currentIndex];\n      this.currentAnnotation = this.annotations[this.currentIndex];\n\n      let tokens, spans;\n\n      if (this.$store.state.annotationPrecision == \"char\") {\n        tokens = this.currentSentence.text.split('');\n        spans = [];\n        for (let i = 0; i < this.currentSentence.text.length; i++) {\n          spans.push([i, i + 1]);\n        }\n      } else {\n        tokens = this.tokenizer.tokenize(this.currentSentence.text);\n        spans = this.tokenizer.span_tokenize(this.currentSentence.text);\n      }\n\n      let combined = tokens.map((t, i) => [spans[i][0], spans[i][1], t]);\n\n      this.tm = new TokenManager(this.classes);\n      this.tm.setTokensAndAnnotation(combined, this.currentAnnotation);\n      // Call applyAnnotationHistory after setting up tokens and annotations\n      this.applyAnnotationHistory();\n    },\n\n    selectTokens() {\n      let selection = document.getSelection();\n\n      if (\n        selection.anchorOffset === selection.focusOffset &&\n        selection.anchorNode === selection.focusNode\n      ) {\n        return;\n      }\n      \n      const rangeStart = selection.getRangeAt(0);\n      const rangeEnd = selection.getRangeAt(selection.rangeCount - 1);\n      let start, end;\n      try {\n        start = parseInt(rangeStart.startContainer.parentElement.id.replace(\"t\", \"\"));\n        let offsetEnd = parseInt(rangeEnd.endContainer.parentElement.id.replace(\"t\", \"\"));\n        end = offsetEnd + rangeEnd.endOffset;\n      } catch {\n        console.log(\"selected text were not tokens\");\n        return;\n      }\n\n      if (!this.classes.length && selection.anchorNode) {\n        alert(\n          \"There are no Tags available. Kindly add some Tags before tagging.\"\n        );\n        selection.empty();\n        return;\n      }\n      console.log(\"adding manual block \", start, end, this.currentClass);\n      this.tm.addNewBlock(start, end, this.currentClass, true, false, false, \"name\", \"Suggested\", null, true);\n      this.addedTokensStack.push(start);\n      this.recordAction({\n        type: 'addBlock',\n        details: {\n          start: start,\n          end: end,\n          _class: this.currentClass,\n          timestamp: Date.now()\n        }\n      });\n      selection.empty();\n    },\n    // Replaces a token-block's class with the currently selected class\n    onReplaceBlockLabel(blockStart) {\n      // Get the start and end positions of the existing block before deleting it\n      const existingBlock = this.tm.getBlockByStart(blockStart);\n      const start = existingBlock.start;\n      const end = existingBlock.end;\n\n      // Remove the existing block\n      this.tm.removeBlock(blockStart);\n\n      // Create a new block with the same start and end, but with the current tag/label/class\n      if (start !== undefined && end !== undefined) {\n        this.addedTokensStack.push(start);\n        this.tm.addNewBlock(start, end, this.currentClass);\n      }\n    },\n    resetBlocks() {\n      this.tm.resetBlocks();\n      this.addedTokensStack = [];\n    },\n    skipCurrentSentence() {\n      this.nextSentence();\n      this.tokenizeCurrentSentence();\n    },\n    backOneSentence() {\n      this.previousSentence();\n      this.tokenizeCurrentSentence();\n    },\n    saveTags() {\n      this.$store.commit(\"addAnnotation\", {\n        text: this.currentSentence.text,\n        entities: this.tm.exportAsAnnotation(),\n      });\n      this.nextSentence();\n      this.tokenizeCurrentSentence();\n    },\n  },\n};\n</script>\n","import { render } from \"./ReviewPage.vue?vue&type=template&id=495ebe11\"\nimport script from \"./ReviewPage.vue?vue&type=script&lang=js\"\nexport * from \"./ReviewPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QBtn});\n","<template>\n  <nav class=\"px-3\">\n    <split-type-selector class=\"mt-4 mb-5\" />\n    <annotation-precision-selector class=\"mt-4 mb-5\" />\n    <progress-bar\n      class=\"mb-5\"\n      :completed=\"currentIndex\"\n      :total=\"inputSentences.length\"\n    />\n    <keyboard-shortcuts />\n  </nav>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport ProgressBar from \"./sidebar/ProgressBar.vue\";\nimport SplitTypeSelector from \"./sidebar/SplitTypeSelector.vue\";\nimport AnnotationPrecisionSelector from \"./sidebar/AnnotationPrecisionSelector.vue\";\nimport KeyboardShortcuts from \"./sidebar/KeyboardShortcuts.vue\";\n\nexport default {\n  name: \"AnnotationSidebar\",\n  components: {\n    ProgressBar,\n    SplitTypeSelector,\n    AnnotationPrecisionSelector,\n    KeyboardShortcuts,\n  },\n  computed: {\n    ...mapState([\"currentIndex\", \"inputSentences\"]),\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.is-single-line {\n  width: 90%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n</style>\n","<template>\n  <div class=\"q-mx-md\">\n    <p class=\"is-size-6 q-mb-sm\">Tagging Progress ({{ completed }}/{{ total }})</p>\n    <q-linear-progress rounded size=\"md\" color=\"primary\" :value=\"completed / total\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ProgressBar\",\n  props: {\n    completed: {\n      type: Number,\n      required: true,\n      default: 0,\n    },\n    total: {\n      type: Number,\n      required: true,\n    },\n  },\n  computed: {\n    completedPercent() {\n      return parseInt((this.completed / this.total) * 100);\n    },\n  },\n};\n</script>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=09dd723d\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QLinearProgress from 'quasar/src/components/linear-progress/QLinearProgress.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QLinearProgress});\n","<template>\n  <section>\n    <div class=\"q-pa-md\">\n      <q-select\n        outlined\n        :bg-color=\"$q.dark.isActive ? 'dark' : 'white'\"\n        v-model=\"splitType\"\n        :options=\"splitOptions\"\n        :map-options=\"true\"\n        label=\"Text Seperator\"\n      />\n    </div>\n\n    <div class=\"q-px-md\" v-if=\"splitType === 'custom'\">\n      <q-input\n        label=\"Separator\"\n        bg-color=\"white\"\n        outlined\n        v-model=\"customSeparator\"\n        @change=\"separatorChanged\"\n        :disabled=\"annotations.length\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"SpitTypeSelector\",\n  data() {\n    return {\n      customSeparator: \"---\",\n      splitOptions: [\n        { label: \"New Line\", value: \"newline\" },\n        { label: \"An Empty Line\", value: \"emptyline\" },\n        { label: \"Custom String\", value: \"custom\" },\n      ],\n    };\n  },\n  computed: {\n    ...mapState([\"annotations\"]),\n    splitType: {\n      get() {\n        switch (this.$store.state.separator) {\n          case \"\\n\":\n            return \"newline\";\n          case \"\\n\\n\":\n            return \"emptyline\";\n          default:\n            return \"custom\";\n        }\n      },\n      set(option) {\n        switch (option.value) {\n          case \"newline\":\n            this.$store.commit(\"setSeparator\", \"\\n\");\n            break;\n          case \"emptyline\":\n            this.$store.commit(\"setSeparator\", \"\\n\\n\");\n            break;\n          default:\n            this.$store.commit(\"setSeparator\", \"---\");\n            break;\n        }\n      },\n    },\n  },\n  methods: {\n    separatorChanged() {\n      this.$store.commit(\"setSeparator\", this.customSeparator);\n    },\n  },\n};\n</script>\n","import { render } from \"./SplitTypeSelector.vue?vue&type=template&id=4d67091b\"\nimport script from \"./SplitTypeSelector.vue?vue&type=script&lang=js\"\nexport * from \"./SplitTypeSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QSelect,QInput});\n","<template>\n  <section>\n    <div class=\"q-px-md q-pb-md\">\n      <q-select\n        outlined\n        :bg-color=\"$q.dark.isActive ? 'dark' : 'white'\"\n        v-model=\"precisionType\"\n        :options=\"precisionOptions\"\n        :map-options=\"true\"\n        label=\"Annotation Precision\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\n\nexport default {\n  name: \"AnnotationPrecisionSelector\",\n  data() {\n    return {\n      precisionOptions: [\n        { label: \"Word Level\", value: \"word\" },\n        { label: \"Character Level\", value: \"char\" },\n      ],\n    };\n  },\n  computed: {\n    precisionType: {\n      get() {\n        switch (this.$store.state.annotationPrecision) {\n          case \"word\":\n            return \"word\";\n          case \"char\":\n            return \"char\";\n          default:\n            return \"word\";\n        }\n      },\n      set(option) {\n        switch (option.value) {\n          case \"word\":\n            this.$store.commit(\"setAnnotationPrecision\", \"word\");\n            break;\n          case \"char\":\n            this.$store.commit(\"setAnnotationPrecision\", \"char\");\n            break;\n          default:\n            this.$store.commit(\"setAnnotationPrecision\", \"word\");\n            break;\n        }\n      },\n    },\n  },\n};\n</script>\n","import { render } from \"./AnnotationPrecisionSelector.vue?vue&type=template&id=cd5f786a\"\nimport script from \"./AnnotationPrecisionSelector.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationPrecisionSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QSelect});\n","<template>\n  <section>\n    <br />\n    <q-toggle\n      v-model=\"enableKeyboardShortcuts\"\n      label=\"Keyboard Shortcuts\"\n      @click=\"enableKeyboardShortcutsChanged\"\n    />\n    <q-icon\n      style=\"margin-left: 5px; margin-top: 3px\"\n      :color=\"$q.dark.isActive ? 'grey-4' : 'grey-10'\"\n      name=\"far fa-question-circle\"\n      @click=\"showShortcutHelp = true\"\n    />\n  </section>\n  <q-dialog :model-value=\"showShortcutHelp\" @hide=\"showShortcutHelp = false\">\n    <q-card style=\"min-width: 100px; padding: 10px; border-radius: 10px\">\n      <q-card-section class=\"text-body1\">\n        <div class=\"column\">\n          <div class=\"row\" style=\"height: 40px\">\n            <div class=\"col-4\">Num Keys:</div>\n            <div class=\"col\">Change classes</div>\n          </div>\n          <div class=\"row\" style=\"height: 60px\">\n            <div class=\"col-4\">Space Bar:</div>\n            <div class=\"col\">Save and move to the next sentence</div>\n          </div>\n          <div class=\"row\" style=\"height: 60px\">\n            <div class=\"col-4\">Right Arrow:</div>\n            <div class=\"col\">Skip and move to the next sentence</div>\n          </div>\n          <div class=\"row\" style=\"height: 60px\">\n            <div class=\"col-4\">Left Arrow:</div>\n            <div class=\"col\">Go back to the previous sentence</div>\n          </div>\n          <div class=\"row\" style=\"height: 60px\">\n            <div class=\"col-4\">Escape:</div>\n            <div class=\"col\">Discard changes to the current sentence</div>\n          </div>\n        </div>\n      </q-card-section>\n    </q-card>\n  </q-dialog>\n</template>\n  \n<script>\nexport default {\n  name: \"KeyboardShortcuts\",\n  data: function() {\n    return {\n      enableKeyboardShortcuts: false,\n      showShortcutHelp: false,\n    };\n  },\n  methods: {\n    enableKeyboardShortcutsChanged() {\n      this.$store.commit(\"setKeyboardShortcuts\", this.enableKeyboardShortcuts);\n    },\n  },\n};\n</script>\n  ","import { render } from \"./KeyboardShortcuts.vue?vue&type=template&id=19c7af6b\"\nimport script from \"./KeyboardShortcuts.vue?vue&type=script&lang=js\"\nexport * from \"./KeyboardShortcuts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QToggle,QIcon,QDialog,QCard,QCardSection});\n","import { render } from \"./AnnotationSidebar.vue?vue&type=template&id=43bc568a\"\nimport script from \"./AnnotationSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./AnnotationSidebar.vue?vue&type=script&lang=js\"\n\nimport \"./AnnotationSidebar.vue?vue&type=style&index=0&id=43bc568a&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    class=\"fullscreen column justify-center bg-black\"\n    :style=\"{'opacity': '0.85'}\"\n  >\n    <div class=\"column items-center\">\n      <p class=\"text-h2 text-white\">\n        <q-icon name=\"fas fa-upload\" />\n      </p>\n      <p class=\"text-h3 text-white\">\n        Drop file to upload.\n      </p>\n    </div>\n  </div>\n</template>","import { render } from \"./DragNDropOverlay.vue?vue&type=template&id=14fe52b7\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QIcon});\n","import { render } from \"./App.vue?vue&type=template&id=04ee0c94\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QDrawer from 'quasar/src/components/drawer/QDrawer.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport qInstall from \"../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QLayout,QDrawer,QPageContainer});\n","import LocalStorage from 'quasar/src/plugins/LocalStorage.js';;\n\nconst niceColors = [\n  \"red-11\",\n  \"blue-11\",\n  \"light-green-11\",\n  \"deep-orange-11\",\n  \"pink-11\",\n  \"light-blue-11\",\n  \"lime-11\",\n  \"brown-11\",\n  \"purple-11\",\n  \"cyan-11\",\n  \"yellow-11\",\n  \"grey-11\",\n  \"deep-purple-11\",\n  \"teal-11\",\n  \"amber-11\",\n  \"blue-grey-11\",\n  \"indigo-11\",\n  \"green-11\",\n  \"orange-11\",\n];\n\n\n\nexport const mutations = {\n  setCurrentPage(state, page) {\n    // console.log(\"From index.js, changing currentpage to\", page)\n    state.currentPage = page;\n    // console.log(\"From index.js, current page is now\", state.currentPage)\n  },\n  addToUndoStack(state, { undoAction, actionDescription }) {\n    state.undoStack.push({ undoAction, actionDescription });\n  },\n  undoAction(state, action) {\n    // This mutation will dynamically call other mutations based on action.type and action.payload\n    if(action && typeof action.type === 'string' && typeof this._mutations[action.type] === 'function') {\n      this._mutations[action.type][0](state, action.payload);\n    }\n  },\n  // Mutation to undo the last action\n  undoLastAction(state) {\n    if (state.undoStack.length > 0) {\n      const lastAction = state.undoStack.pop();\n      lastAction.undoAction();\n      console.log(`Undid action: ${lastAction.actionDescription}`);\n    } else {\n      console.warn(\"Undo stack is empty.\");\n    }\n  },\n  \n  // Mutation to clear the undo stack\n  clearUndoStack(state) {\n    state.undoStack = [];\n  },\n\n  loadClasses(state, payload) {\n    if (!Array.isArray(payload)) {\n      throw new Error(\"loadClasses: payload must be an array\");\n    }\n    let isValid = payload.reduce(\n      (acc, curr) =>\n        acc &&\n        typeof curr === \"object\" &&\n        \"id\" in curr &&\n        \"name\" in curr &&\n        \"color\" in curr,\n      true\n    );\n    if (!isValid) {\n      throw new Error(\"loadClasses: payload has invalid schema\");\n    }\n    state.classes = payload;\n    state.currentClass = state.classes[0];\n    LocalStorage.set(\"tags\", state.classes);\n  },\n  \n  setInputSentences(state, payload) {\n    try {\n      let jsonData;\n      if (typeof payload === 'string') {\n        // Check if the payload is a JSON string\n        try {\n          jsonData = JSON.parse(payload);\n          // If successful, continue with the JSON data processing\n        } catch (jsonError) {\n          // If JSON parsing fails, assume it's a text file and proceed to read its content\n          jsonData = {\n            annotations: [[payload, { entities: [] }]],\n            classes: [] // You may need to provide some default values here based on your needs\n          };\n        }\n      } else if (payload instanceof File) {\n        // If the payload is a File (assumed to be a text file), read its content\n        const fileReader = new FileReader();\n        fileReader.onload = function (event) {\n          try {\n            const fileContent = event.target.result;\n            jsonData = {\n              annotations: [[fileContent, { entities: [] }]],\n              classes: [] // You may need to provide some default values here based on your needs\n            };\n  \n            // Proceed with the JSON data processing\n            processJsonData(jsonData);\n          } catch (error) {\n            console.error(`Error processing text file: ${error.message}`);\n          }\n        };\n  \n        fileReader.readAsText(payload);\n        return;\n      } else {\n        throw new Error(\"Invalid payload type\");\n      }\n  \n      // Continue with the JSON data processing\n      processJsonData(jsonData);\n    } catch (error) {\n      console.error(`Error processing payload: ${error.message}`);\n    }\n  \n    function processJsonData(jsonData) {\n      /*\n      Function to process data in input entities section and map to token metadata\n      Currenlty set to send the last annotation in the list of annotation history\n      as the information which gets loaded into review page on enter\n      */\n      const processedTexts = jsonData.annotations.map(([annotationText, annotationEntities], i) => {\n        \n        // Store the history of annotations to export to review page \n        let annotationHistory = [];\n        // Set the current class for the preceding two indices of each entity\n        /* THIS IS FOR THEIR OLD FILE STRUCTURE \n        if (annotationClassIds.length > 0) {\n          annotationEntities.entities.forEach(entity => {\n            if (entity.length >= 3) {\n              const start = entity[0];\n              const end = entity[1];\n              // type = the block of information that contains the name, date label etc..\n              const type = entity[3];\n              const label = entity[2];\n              const name = type[0][3];\n              const status = type[0][4];\n              console.log(\"label: \",label, \"start: \",start, \"end: \",end, \"type: \",type, \"name: \", name, \"status: \", status);\n              annotationHistory.push([label, start, end, type, name, status]);\n              const textSnippet = annotationText.slice(start, end);\n              const textIndices = [start - 1, start - 2]; // Adjust indices as needed\n  \n              console.log(\"THIS CONSOLE.LOG\", sstate, label, textSnippet, textIndices);\n            }\n        }); */\n          console.log(\"help\")\n          annotationEntities.entities.forEach(entity => {\n              if (entity.length >= 3) {\n                  console.log(\"help\")\n                  const start = entity[0];\n                  const end = entity[1];\n                  const types = entity[2]; // This will store all blocks as you wanted\n                  const type = types[types.length - 1]; // This now assigns only the last block to 'type'\n                  const ogtype = types[0];\n                  const label = type[3];\n                  const name = type[2];\n                  const status = type[0];\n                  var ogNLP = false\n                  if(ogtype[2] === 'nlp') ogNLP = true\n      \n                  console.log(\"label: \",label, \"start: \",start, \"end: \",end, \"type: \",type, \"name: \", name, \"status: \", status);\n                  annotationHistory.push([label, start, end, type, name, status, ogNLP, types]);\n    \n                  console.log(\"Loaded annotation history:\", types);\n              }\n      \n          });\n        state.annotationHistory = annotationHistory;\n        console.log(\"Updated state.annotationHistory:\", state.annotationHistory);\n      \n\n      return { id: i, text: annotationText };\n    });\n  \n      state.inputSentences = processedTexts;\n      state.originalText = processedTexts.map(item => item.text).join(state.separator);\n  \n      if (jsonData.classes && Array.isArray(jsonData.classes)) {\n        mutations.loadClasses(state, jsonData.classes);\n      }\n    }\n  },  \n  \n  \n  addClass(state, payload) {\n    // Check if the class already exists\n    const existingClass = state.classes.find((c) => c.name === payload);\n  \n    // If the class already exists, return\n    if (existingClass) {\n      console.log('Class already exists, returning.');\n      return;\n    }\n  \n    // Add the new class\n    const lastIndex = state.classes.reduce((p, c) => (c.id > p ? c.id : p), 0);\n    const newClass = {\n      id: lastIndex + 1,\n      name: payload,\n      color: niceColors[lastIndex % niceColors.length],\n    };\n  \n    // Check again to handle a race condition\n    if (!state.classes.some((c) => c.name === newClass.name)) {\n      state.classes = [...state.classes, newClass];\n  \n      // If this is the first class, set it as the currentClass\n      if (state.classes.length === 1) {\n        state.currentClass = state.classes[0];\n        console.log('Updated currentClass:', state.currentClass);\n      }\n    }\n  },  \n  \n  removeClass(state, payload) {\n    state.classes = state.classes.filter((c) => c.id != payload);\n    if (state.currentClass.id === payload) {\n      state.currentClass = state.classes[0];\n    }\n  },\n  setCurrentClass(state, payload) {\n    state.currentClass = state.classes[payload];\n  },\n  addAnnotation(state, payload) {\n    state.annotations[state.currentIndex] = payload;\n    state.currentAnnotation = payload;\n  },\n  clearAllAnnotations(state) {\n    state.annotations = [];\n    state.currentAnnotation = {};\n  },\n  setSeparator(state, payload) {\n    state.separator = payload;\n    const sentences = state.originalText.split(state.separator);\n    state.inputSentences = sentences.map((s, i) => ({ id: i, text: s }));\n  },\n  setAnnotationPrecision(state, payload) {\n    state.annotationPrecision = payload;\n  },\n  setKeyboardShortcuts(state, payload) {\n    state.enableKeyboardShortcuts = payload;\n  },\n  nextSentence(state) {\n    if (state.currentIndex < state.inputSentences.length - 1) {\n      state.currentIndex += 1;\n      state.currentAnnotation = state.annotations[state.currentIndex] || {};\n    } else {\n      alert(\"You have completed all the sentences\");\n    }\n  },\n  previousSentence(state) {\n    if (state.currentIndex > 0) {\n      state.currentIndex -= 1;\n      state.currentAnnotation = state.annotations[state.currentIndex];\n    } else {\n      alert(\"You are at the beginning of all sentences\");\n    }\n  },\n  resetIndex(state) {\n    state.currentIndex = 0;\n  },\n  loadAnnotations(state, payload) {\n    let isValid = typeof payload === \"object\" &&\n    \"annotations\" in payload &&\n    \"classes\" in payload;\n\n    if (!isValid) {\n      throw new Error(\"loadAnnotations: payload has invalid schema\");\n    }\n\n    let annotations = payload.annotations;\n    if (!Array.isArray(annotations)) {\n      throw new Error(\"loadAnnotations: payload must be an array\");\n    }\n\n    let newAnnotations = [];\n\n    for (var i = 0; i < annotations.length; i++) {\n      if (annotations[i] == null) continue;\n      let annotation = {\n        'text': annotations[i][0],\n        'entities': annotations[i][1].entities,\n      }\n      newAnnotations[i] = annotation;\n    }\n    state.annotations = newAnnotations;\n    state.currentAnnotation = state.annotations[state.currentIndex];\n  },\n};\n\nexport const getters = {};\n\nconst actions = {\n  createNewClass({ commit, state }, className) {\n    return new Promise((resolve, reject) => {\n      commit(\"addClass\", className);\n      try {\n        LocalStorage.set(\"tags\", state.classes);\n      } catch (e) {\n        reject(e);\n      }\n      resolve();\n    });\n  },\n  deleteClass({ commit, state }, classId) {\n    commit(\"removeClass\", classId);\n    LocalStorage.set(\"tags\", state.classes);\n  },\n};\n\nwindow.addEventListener('beforeunload', async (event) => {\n  event.returnValue = \"Please make sure you export annotations before closing the file.\";\n});\n\nexport default {\n  state() {\n    let tags = LocalStorage.getItem(\"tags\");\n    return {\n      annotations: [],\n      annotationHistory: [],\n      undoStack: [],\n      classes: tags || [],\n      inputSentences: [],\n      originalText: \"\",\n      separator: \"\\n\",\n      enableKeyboardShortcuts: false,\n      annotationPrecision: \"word\",\n      // current state\n      currentAnnotation: {},\n      currentClass: tags && tags[0] || {},\n      currentIndex: 0,\n      currentSentence: \"\",\n      currentPage: \"start\"\n    };\n  },\n  getters,\n  mutations,\n  actions,\n};\n","import \"./styles/quasar.scss\";\nimport iconSet from \"quasar/icon-set/fontawesome-v5.js\";\nimport \"@quasar/extras/fontawesome-v5/fontawesome-v5.css\";\nimport \"@quasar/extras/ionicons-v4/ionicons-v4.css\";\nimport Notify from 'quasar/src/plugins/Notify.js';;\n\n// To be used on app.use(Quasar, { ... })\nexport default {\n  config: {},\n  plugins: {\n    Notify,\n  },\n  iconSet: iconSet,\n};\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"es6-promise/auto\";\nimport { createStore } from \"vuex\";\nimport store from \"./store\";\n\nimport Quasar from 'quasar/src/vue-plugin.js';;\nimport quasarUserOptions from \"./quasar-user-options\";\n\nconst app = createApp(App)\n    .use(Quasar, quasarUserOptions)\n    .use(createStore(store));\n\napp.mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/TeAM-NER/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkner_annotator\"] = self[\"webpackChunkner_annotator\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4631); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementBlock","class","onDragover","_cache","_withModifiers","args","$options","onDragEnter","onDragenter","onDragleave","onDragLeave","onDrop","style","_createElementVNode","_normalizeStyle","$data","overlayActive","_createVNode","_component_q_layout","view","_ctx","currentPage","_createBlock","_component_menu_bar","key","_component_q_drawer","bordered","_normalizeClass","$q","dark","isActive","_component_annotation_sidebar","_component_q_page_container","_component_start_page","onTextFileLoaded","$event","switchToPage","onJsonFileLoaded","_component_annotation_page","_component_review_page","_component_drag_n_drop_overlay","pendingFileDrop","_component_exit_dialog","show","onHide","onConfirm","processFileDrop","src","_imports_0","_component_q_header","_hoisted_1","_component_q_avatar","size","_hoisted_2","_hoisted_3","_hoisted_4","$store","state","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_component_q_menu","_component_q_list","dense","_component_q_item","clickable","onClick","pendingClick","$refs","file","_component_q_item_section","onChange","openFile","type","ref","accept","_hoisted_10","_hoisted_11","_component_export_annotations","importAnnotations","_hoisted_12","_hoisted_13","exportTags","click","importTags","_component_q_space","_component_q_icon","color","name","toggleDarkMode","_hoisted_14","_hoisted_15","href","target","_component_q_separator","showAbout","_component_about_dialog","_component_q_dialog","promptForProject","persistent","_component_q_card","_component_q_card_section","_hoisted_16","_component_q_input","newProjectName","autofocus","onKeyup","_withKeys","_component_q_card_actions","align","_component_q_btn","flat","label","promptForNameAndExport","exportFile","async","content","filename","window","rpc","element","document","createElement","setAttribute","encodeURIComponent","display","body","appendChild","removeChild","save","defaultPath","documentDir","filters","extensions","then","path","match","invoke","filepath","contents","msg","alert","catch","e","console","log","computed","mapState","methods","annotator","prompt","this","generateJSONExport","output","classes","map","c","index","id","annotations","annotation","text","entities","entity","history","newHistoryEntry","formatDate","Date","push","h","jsonStr","JSON","stringify","error","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","__exports__","QItem","ClosePopup","$props","$emit","version","emits","props","Boolean","default","data","APPLICATION_VERSION","QDialog","components","ExportAnnotations","AboutDialog","ExitDialog","setup","useQuasar","notify","icon","message","level","position","timeout","actions","mapMutations","files","filereader","FileReader","onload","ev","loadClasses","parse","result","length","readAsText","setInputSentences","clearAllAnnotations","resetIndex","loadAnnotations","toggle","QHeader","_component_q_file","textFile","onFileSelected","onRejected","fileSelectionError","filled","prepend","_withCtx","_component_q_timeline","_component_q_timeline_entry","subtitle","title","_component_q_img","_imports_1","_imports_2","fileType","split","pop","reader","addEventListener","event","QIcon","_component_classes_block","_Fragment","_renderList","tm","tokens","t","_resolveDynamicComponent","start","token","backgroundColor","humanOpinion","onRemoveBlock","onReplaceBlockLabel","outline","undo","resetBlocks","backOneSentence","disabled","currentIndex","skipCurrentSentence","saveTags","annotationPrecision","Object","required","userHasToggled","_component_Token","symbolClass","toggleSymbol","_toDisplayString","round","recordActionAndEmit","reviewedIconClass","toggleReviewed","Token","isSymbolActive","Number","suggestedState","isReviewed","recordAction","nextState","tokenStart","newSymbolState","actionType","previousState","action","newState","timestamp","now","payload","QBtn","cl","_component_q_chip","square","replace","setCurrentClass","removable","showDeleteButtons","onRemove","handleRemoveClass","currentClass","showNewClassInput","newClassName","hint","append","saveNewClass","created","keypress","watch","toUpperCase","mapActions","enableKeyboardShortcuts","parseInt","class_id","className","sure","confirm","deleteClass","self","createNewClass","onInputKeyup","QChip","TokenManager","constructor","getTokenByStart","find","setTokensAndAnnotation","currentAnnotation","end","words","undefined","i","entityName","entityClass","addNewBlock","_start","_end","_class","initiallyNLP","isLoaded","status","annotationHistory","block","isSuggested","filter","selectedTokens","newTokens","selectionStart","selectionEnd","currentToken","tokensBeforeSelection","tokensAfterSelection","oldTokens","j","oldToken","appendNewBlock","tokensArray","updateAttributes","newBlock","classId","removeBlock","blockStart","updateSymbolState","tokenBlock","exportAsAnnotation","b","getBlockByStart","currentSentence","redone","tokenizer","TreebankTokenizer","addedTokensStack","TokenBlock","ClassesBlock","inputSentences","tokenizeCurrentSentence","selectTokens","beforeUnmount","removeEventListener","keyCode","stopPropagation","applyAnnotationHistory","forEach","labelName","ogNLP","cls","warn","isNLP","some","spans","tokenize","span_tokenize","combined","selection","getSelection","anchorOffset","focusOffset","anchorNode","focusNode","rangeStart","getRangeAt","rangeEnd","rangeCount","startContainer","parentElement","offsetEnd","endContainer","endOffset","empty","existingBlock","nextSentence","previousSentence","commit","onUpdateSymbolState","handleSymbolUpdate","undoStack","sort","a","oldSymbolState","oldUserHasToggled","details","newUserHasToggled","onAddBlock","revertAddBlock","blockDetails","lastAction","revertSymbolUpdate","revertBlockRemove","revertBlockAdd","types","determineSymbolState","_component_split_type_selector","_component_annotation_precision_selector","_component_progress_bar","completed","total","_component_keyboard_shortcuts","_component_q_linear_progress","rounded","value","completedPercent","QLinearProgress","_component_q_select","outlined","splitType","options","splitOptions","customSeparator","separatorChanged","get","separator","set","option","QSelect","precisionType","precisionOptions","_component_q_toggle","enableKeyboardShortcutsChanged","showShortcutHelp","QToggle","ProgressBar","SplitTypeSelector","AnnotationPrecisionSelector","KeyboardShortcuts","script","MenuBar","StartPage","AnnotationPage","ReviewPage","AnnotationSidebar","DragNDropOverlay","page","setCurrentPage","dataTransfer","render","QLayout","niceColors","mutations","addToUndoStack","undoAction","actionDescription","_mutations","undoLastAction","clearUndoStack","Array","isArray","Error","isValid","reduce","acc","curr","LocalStorage","jsonData","File","fileReader","fileContent","processJsonData","jsonError","processedTexts","annotationText","annotationEntities","ogtype","originalText","item","join","addClass","existingClass","lastIndex","p","newClass","removeClass","addAnnotation","setSeparator","sentences","s","setAnnotationPrecision","setKeyboardShortcuts","newAnnotations","getters","Promise","resolve","reject","returnValue","tags","getItem","config","plugins","Notify","iconSet","app","createApp","App","use","Quasar","quasarUserOptions","createStore","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}